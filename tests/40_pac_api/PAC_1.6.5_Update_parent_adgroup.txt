*** Settings ***
Resource            pac_api_imports.txt
Force Tags          PAC     PAC1.6.5        BATCH19     OffshoreQA    PAC_BATCH5
Suite Setup         Clean Up Pre-Requisite Data for PAC1.6.5
Suite Teardown      Clean Up Pre-Requisite Data for PAC1.6.5

# Wiki: https://wiki.4info.com/pages/viewpage.action?pageId=29917295#PACAPIdocumentation-1.6.5Updateaparentadgroup
# API Name: 1.6.5 Update a parent adgroup
# Method: PUT
# URL: pac-api/adgroup/parent-adgroup/{adgroupId}
# DESC: Update a parent adgroupss
# rhino.ad_group
# rhino.adgroup_optimization



*** Variables ***
#Need to add tests for - targeting, boost as missing, boost is null value, isConversionTracked,
#In databse comparison need to add tests for viewability, targeting, start date and end date

*** Keywords ***
Clean Up Pre-Requisite Data for PAC1.6.5
    Delete New Campaign via DB    campaign_name=PAC_regression_campaign_165
    Set Suite Variable    ${Advname}    QATEST_Advertiser_PAC1.6.5
    Cleanup Advertiser From DB          advertiser_name=${Advname}


Create Pre-Requisite Data for Create Campaign PAC1.6.5
    Get Start Date

    Set Test Variable    ${uri_link}    /pac-api/partner/advertiser
    Log     ${Advname}

    Comment    Create Advertiser for PAC1.6.5

    Create Advertiser      uri=${uri_link}
    ...                    data={"name": "${Advname}"}
    ...                    expected_status_code=200
    ...                    success=true
    ${ID}=    Get JSON Value    ${body}    /advertiser/id
    Set Suite Variable    ${Advertiser_ID}    ${ID}

    Comment    Create Catalina Campaign for PAC1.6.5

    Create New Campaign via API         campaign_name=PAC_regression_campaign_164_Catalina
    ...                                 campaign_start_date_time=${todaysDate}
    ...                                 campaign_advertiser_id=${Advertiser_ID}
    ...                                 campaign_external_id="BVI12345678"
    ...                                 campaign_io=6624
    ...                                 campaign_access_control=15
    ...    response_code=200

    ${Campaign_Id} =    Get JSON Value    ${body}    /campaign/id
    Set Suite Variable    ${Catalina_Campaign_ID}    ${Campaign_Id}

    ${Campaign_endDate} =    Get JSON Value    ${body}    /campaign/endDate
    ${Campaign_endDate}=    Get Substring    ${Campaign_endDate}    1    17
    Set Suite Variable    ${Catalina_Campaign_endDate}    ${Campaign_endDate}

    Comment    Create Catalina Campaign for PAC1.6.5

    Create New Campaign via API         campaign_name=PAC_regression_campaign_164_NonCatalina
    ...                                 campaign_start_date_time=${todaysDate}
    ...                                 campaign_advertiser_id=${Advertiser_ID}
    ...                                 campaign_external_id="BVI12345678"
    ...                                 campaign_io=6624
    ...                                 campaign_access_control=8
    ...    response_code=200

    ${Campaign_Id} =    Get JSON Value    ${body}    /campaign/id
    Set Suite Variable    ${NonCatalina_Campaign_ID}    ${Campaign_Id}

    ${Campaign_endDate} =    Get JSON Value    ${body}    /campaign/endDate
    ${Campaign_endDate}=    Get Substring    ${Campaign_endDate}    1    17
    Set Suite Variable    ${NonCatalina_Campaign_endDate}    ${Campaign_endDate}

*** Test Cases ***
#--------------------------------------------------------------------------------------------------------------------------------------------
PAC1.6.5_TC_0.0_Create Pre-Requisite data
    Create Pre-Requisite Data for Create Campaign PAC1.6.5
    [Tags]            CM-2331


PAC1.6.5_TC_01.1_Update_parent_adgroup (Normal Parent adgroup)
    [Documentation]     Input:          Use API to update a Parent adgroup,
    ...                 Expected:       API should update a Parent adgroup successfully with response code 200.
    Get Start Date

    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_011
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_update_parent_165_011_Updated
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


#--------------------------------------------------------------------------------------------------------------------------------------------
PAC1.6.5_TC_02.1_Update_parent_adgroup (Campaign ID: 999999 invalid not found)
    [Documentation]     Input :         Use API to update a Parent adgroup using campaign id 99999,
    ...                 Expected:       API should not allow to Update Parent Adgroup for Campaign id value as 99999 with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_021
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_021
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=99999
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}            /reason_code            "700-016"
    Json Value Should Equal     ${body}            /reason_desc            "Campaign Id does not match with adgroup."
    # Json Value Should Equal     ${body}            /errors/0/reason_code           "700-016"
    # Json Value Should Equal     ${body}            /errors/0/reason_desc           "Campaign id not exists."
    [Tags]


PAC1.6.5_TC_02.2_Update_parent_adgroup (Campaign ID: missing, accept)
    [Documentation]     Input :         Use API to update a Parent adgroup using missing campaign id,
    ...                 Expected:       API should allow to Update Parent Adgroup for missing Campaign id with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_022
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_022
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=MISSING
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_02.3_Update_parent_adgroup (Campaign ID: blank - expect 400)
    [Documentation]     Input :         Use API to update a Parent adgroup using blank campaign id,
    ...                 Expected:       API should not allow to Update Parent Adgroup for blank Campaign id with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_023
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_023
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${EMPTY}
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}            /reason_code            "400-001"
    Json Value Should Equal     ${body}            /reason_desc            "Invalid Request."
    [Tags]


PAC1.6.5_TC_02.4_Update_parent_adgroup (Campaign ID: which does not belong to it, Don't accept)
    [Documentation]     Input :         Use API to update a Parent adgroup using campaign id which does not belong to the parent adgroup,
    ...                 Expected:       API should not allow to Update Parent Adgroup for Campaign id value as 12 with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_024
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_024
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${Catalina_Campaign_ID}
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}            /reason_code            "700-016"
    Json Value Should Equal     ${body}            /reason_desc            "Campaign Id does not match with adgroup."
    # Json Value Should Equal     ${body}            /errors/0/reason_code           "700-004"
    # Json Value Should Equal     ${body}            /errors/0/reason_desc           "Campaign id not exists."
    [Tags]    #  Known_bug       CM-983

#--------------------------------------------------------------------------------------------------------------------------------------------
##Only letters, numbers, underscores (_), hyphens (-), and single spaces are allowed.

PAC1.6.5_TC_03.1_Update_parent_adgroup (Name: Underscore - allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Name with underscore,
    ...                 Expected:       API should update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_031
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_31_Update
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_03.2_Update_parent_adgroup (Name: Hyphen - allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Name with hyphen,
    ...                 Expected:       API should update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent-_165_032
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165-32-Update
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_03.3_Update_parent_adgroup (Name: Single Space - allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Name with Single Space,
    ...                 Expected:       API should update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_033
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165 33 Update
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_03.4_Update_parent_adgroup (Name: Missing - Don't allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Missing Name,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_034
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200

    Update Parent Adgroup Via API
    ...    response_parent_name=MISSING
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}            /reason_code            "400-999"
    Json Value Should Equal     ${body}            /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}         /errors/0/field             "name"
    Json Value Should Equal     ${body}         /errors/0/reason_desc       "Invalid Parent-Adgroup Name."
    [Tags]


PAC1.6.5_TC_03.5_Update_parent_adgroup (Name: Blank - Don't allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Blank Name,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_035
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200

    Update Parent Adgroup Via API
    ...    response_parent_name=${Empty}
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}    /reason_code             "400-999"
    Json Value Should Equal     ${body}    /reason_desc             "Validation Failure"
    # Json Value Should Equal     ${body}    /errors/1/reason_desc    "Only letters, numbers, underscores (_), hyphens (-), period(.) and single spaces are allowed."
    # ${errors}    Get JSON Value    ${body}    /errors
    # Should Match Regexp         ${errors}    {"field": "name", "reason_desc": "Only letters, numbers, underscores (_), hyphens (-), period(.) and single spaces are allowed."}
    [Tags]


PAC1.6.5_TC_03.6_Update_parent_adgroup (Name: Should not accept any characters apart from alphabets, numbers, underscore, hyphen and single space - Don't allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Blank Name,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_036
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_@!%
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}            /reason_code            "400-999"
    Json Value Should Equal     ${body}            /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}         /errors/0/field             "name"
    Json Value Should Equal     ${body}         /errors/0/reason_desc       "Only letters, numbers, underscores (_), hyphens (-), period(.) and single spaces are allowed."
    [Tags]


PAC1.6.5_TC_03.7_Update_parent_adgroup (Name: Duplicate for same campaign - Don't allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Duplicate Name,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0371
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0372
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0371
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${Campaign_Id}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "name"
    Json Value Should Equal     ${body}     /errors/0/reason_code   "700-204"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "Adgroup name exists."
    [Tags]    #  Known_bug       CM-883


PAC1.6.5_TC_03.8_Update_parent_adgroup (Name: Duplicate for different campaign - allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Duplicate Name,
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0381
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200

    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0382
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${Catalina_Campaign_ID}
    ...    response_code=200

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0381
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${Catalina_Campaign_ID}
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]    #  Known_bug       CM-883

#--------------------------------------------------------------------------------------------------------------------------------------------
PAC1.6.5_TC_04.1_Update_parent_adgroup (External ID: not starting with BVT for catalina user- Don't allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for External ID with any valid letter(s),
    ...                 Expected:       API should update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_041
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${Catalina_Campaign_ID}
    ...    parent_externalID="BVT12345678"
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_041
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${Catalina_Campaign_ID}
    ...    response_parent_externalID=externalId1
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}         /reason_code            "400-999"
    Json Value Should Equal     ${body}         /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "externalId"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "External ID must begin with BVT"
    [Tags]     #  Known_bug   CM-1121


PAC1.6.5_TC_04.2.1_Update_parent_adgroup (External ID: Blank for catalina user- don't allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Blank External ID,
    ...                 Expected:       API should update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0421
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${Catalina_Campaign_ID}
    ...    parent_externalID="BVT12345678"
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0421
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${Catalina_Campaign_ID}
    ...    response_parent_externalID=${Empty}
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "externalId"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "External ID cannot be blank"
    [Tags]      #  Known_bug   CM-1121


PAC1.6.5_TC_04.2.2_Update_parent_adgroup (External ID: Blank for non catalina user- allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Blank External ID,
    ...                 Expected:       API should update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0422
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_externalID="BVT12345678"
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0422
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_externalID=${Empty}
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]       EXCLUDE    #  Known_bug   CM-1121
#Exclude reason - for non Catalina group there is no validation for external id


PAC1.6.5_TC_04.3.1_Update_parent_adgroup (External ID: NULL for catalina user - don't allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Missing External ID,
    ...                 Expected:       API should update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_043
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${Catalina_Campaign_ID}
    ...    parent_externalID="BVT12345678"
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0431
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${Catalina_Campaign_ID}
    ...    response_parent_externalID=null
    ...    updated_response_code=400
    ...    updated_success=false

    Should Match Regexp     ${body}     "reason_code":"400-999"
    Should Match Regexp     ${body}     "reason_desc":"Validation Failure"
    Should Match Regexp     ${body}     {"reason_desc":"External ID must begin with BVT","field":"externalId"}
    Should Match Regexp     ${body}     {"reason_desc":"External ID must be at least 11 characters","field":"externalId"}
    [Tags]        #  Known_bug   CM-1121


PAC1.6.5_TC_04.3.2_Update_parent_adgroup (External ID: null value for non Catalina User group access control - allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for External ID,
    ...                 Expected:       API should update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0432
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_externalID=externalId
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0432
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_externalID=extId
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]    EXCLUDE    #  Known_bug   CM-1121
#Exclude reason - for non Catalina group there is no validation for external id


PAC1.6.5_TC_04.4.1_Update_parent_adgroup (External ID: more than 14 characters for catalina uaser- don't allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for External ID,
    ...                 Expected:       API should update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0441
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${Catalina_Campaign_ID}
    ...    parent_externalID="BVT12345678"
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0441
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${Catalina_Campaign_ID}
    ...    response_parent_externalID=BVT1234567891011126499
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}         /reason_code            "400-999"
    Json Value Should Equal     ${body}         /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "externalId"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "External ID must be no more than 14 characters"
    [Tags]     #  Known_bug   CM-1121


PAC1.6.5_TC_04.5.1_Update_parent_adgroup (External ID: valid value for catalina access control user group - allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for External ID,
    ...                 Expected:       API should update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0451
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${Catalina_Campaign_ID}
    ...    parent_externalID="BVT12345678"
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0451
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${Catalina_Campaign_ID}
    ...    response_parent_externalID=BVT45678123
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]    #   Known_bug       CM-1277


PAC1.6.5_TC_04.5.2_Update_parent_adgroup (External ID: valid value for non catalina access control user group - allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for External ID,
    ...                 Expected:       API should update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0452
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_externalID=test
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0452
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_externalID="externalid"
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]      EXCLUDE    #  Known_bug   CM-1121
#Exclude reason - for non Catalina group there is no validation for external id


PAC1.6.5_TC_04.6.1_Update_parent_adgroup (External ID: special characters for catalina access control user group - don't allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for External ID,
    ...                 Expected:       API should update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0461
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${Catalina_Campaign_ID}
    ...    parent_externalID="BVT45678123"
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0461
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${Catalina_Campaign_ID}
    ...    response_parent_externalID=BVT@#$%.12345678
    ...    updated_response_code=400
    ...    updated_success=false

    Should Match Regexp     ${body}     "reason_code":"400-999"
    Should Match Regexp     ${body}     "reason_desc":"Validation Failure"
    Should Match Regexp     ${body}     {"reason_desc":"External ID must be no more than 14 characters","field":"externalId"}
    Should Match Regexp     ${body}     {"reason_desc":"External ID must contain only letters and numbers","field":"externalId"}
    [Tags]     #  Known_bug       CM-1121


PAC1.6.5_TC_04.6.2_Update_parent_adgroup (External ID: special characters for non catalina access control user group - don't allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for External ID,
    ...                 Expected:       API should update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0462
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_externalID="extid"
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0462
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_externalID=BVT@#$%.12345678
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "externalId"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "External ID must contain only letters and numbers"
    [Tags]       EXCLUDE    #  Known_bug   CM-1121
#Exclude reason - for non Catalina group there is no validation for external id


PAC1.6.5_TC_04.7.1_Update_parent_adgroup (External ID: less than 11 characters for catalina uaser- don't allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for External ID,
    ...                 Expected:       API should update a Parent adgroup successfully with response code 200.

    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0471
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${Catalina_Campaign_ID}
    ...    parent_externalID="BVT12345678"
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0471
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${Catalina_Campaign_ID}
    ...    response_parent_externalID=BVT1234
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "externalId"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "External ID must be at least 11 characters"
    [Tags]     #  Known_bug   CM-1121

#--------------------------------------------------------------------------------------------------------------------------------------------
PAC1.6.5_TC_05.1_Update_parent_adgroup (TimeZone: G - Allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for TimeZone using value "G",
    ...                 Expected:       API should update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_051
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_051
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_timezone=G
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_05.2_Update_parent_adgroup (TimeZone: E - Allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for TimeZone using value "E",
    ...                 Expected:       API should update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_start_date_time=${todaysDate}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_052
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_timezone=E
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_05.3_Update_parent_adgroup (TimeZone: C - Allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for TimeZone using value "C",
    ...                 Expected:       API should update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_053
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_053
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_timezone=C
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_05.4_Update_parent_adgroup (TimeZone: M - Allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for TimeZone using value "M",
    ...                 Expected:       API should update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_054
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_054
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_timezone=M
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_05.5_Update_parent_adgroup (TimeZone: P - Allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for TimeZone using value "P",
    ...                 Expected:       API should update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_055
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_055
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_timezone=P
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_05.6_Update_parent_adgroup (TimeZone: A - Allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for TimeZone using value "A",
    ...                 Expected:       API should update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_056
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_056
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_timezone=A
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_05.7_Update_parent_adgroup (TimeZone: H - Allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for TimeZone using value "H",
    ...                 Expected:       API should update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_057
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_057
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_timezone=H
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_05.8_Update_parent_adgroup (TimeZone: V - Invalid)
    [Documentation]     Input:          Use API to Update Parent Adgroup for TimeZone using value "V",
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_058
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_058
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_timezone=V
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}    /reason_code             "400-999"
    Json Value Should Equal     ${body}    /reason_desc             "Validation Failure"
    Json Value Should Equal     ${body}    /errors/0/reason_code    "700-802"
    Json Value Should Equal     ${body}    /errors/0/field          "timezone"
    Json Value Should Equal     ${body}    /errors/0/reason_desc    "Unsupported timezone format."
    [Tags]    #  Known_bug    CM-1750


PAC1.6.5_TC_05.9_Update_parent_adgroup (TimeZone: GMT - Invalid)
    [Documentation]     Input:          Use API to Update Parent Adgroup for TimeZone using value "GMT",
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_059
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true
    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_059
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_timezone=GMT
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}            /reason_code            "400-999"
    Json Value Should Equal     ${body}            /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}         /errors/0/field             "timezone"
    Json Value Should Equal     ${body}         /errors/0/reason_code       "700-802"
    Json Value Should Equal     ${body}         /errors/0/reason_desc       "Unsupported timezone format."
    [Tags]    #  Known_bug    CM-1750


PAC1.6.5_TC_05.10_Update_parent_adgroup (TimeZone: UTC - Invalid)
    [Documentation]     Input:          Use API to Update Parent Adgroup for TimeZone using value "UTC",
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0510
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true
    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0510
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_timezone=UTC
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}         /reason_code                "400-999"
    Json Value Should Equal     ${body}         /reason_desc                "Validation Failure"
    Json Value Should Equal     ${body}         /errors/0/field             "timezone"
    Json Value Should Equal     ${body}         /errors/0/reason_code       "700-802"
    Json Value Should Equal     ${body}         /errors/0/reason_desc       "Unsupported timezone format."
    [Tags]    #  Known_bug    CM-1750


PAC1.6.5_TC_05.11_Update_parent_adgroup (TimeZone: Blank - Invalid)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Empty TimeZone,
    ...                 Expected:       API should not update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0511
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true
    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0511
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_timezone=${Empty}
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}            /reason_code            "400-999"
    Json Value Should Equal     ${body}            /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}         /errors/0/field             "timezone"
    Json Value Should Equal     ${body}         /errors/0/reason_desc       "Invalid Timezone."
    [Tags]


PAC1.6.5_TC_05.12_Update_parent_adgroup (TimeZone: Missing - Invalid)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Missing TimeZone,
    ...                 Expected:       API should not allow to  update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0512
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true
    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0512
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_timezone=MISSING
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}            /reason_code            "400-999"
    Json Value Should Equal     ${body}            /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}         /errors/0/field             "timezone"
    Json Value Should Equal     ${body}         /errors/0/reason_desc       "Invalid Timezone."
    [Tags]

#--------------------------------------------------------------------------------------------------------------------------------------------
PAC1.6.5_TC_06.1_Update_parent_adgroup (Start Date: Yesterday - don't allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Start Date using value as yesterday's date,
    ...                 Expected:       API should update a Parent adgroup successfully with response code 200.
    ${yyyy}     ${mm}       ${dd}=                      Get Time            year,month,day          UTC - 2 day
    Set Test Variable   ${start_date}           ${mm}/${dd}/${yyyy}
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_061
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_061
    ...    response_parent_start_date_time=${start_date} 00:00
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}     /reason_code        "400-999"
    Json Value Should Equal     ${body}     /reason_desc        "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "startDate"
    Json Value Should Equal     ${body}     /errors/0/reason_code   "700-014"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "Parent start date has to be within today's and within campaign date range(${todaysDate} - ${NonCatalina_Campaign_endDate} GMT)"
    [Tags]


PAC1.6.5_TC_06.2_Update_parent_adgroup (Start Date: Today - allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Start Date using value as today's date,
    ...                 Expected:       API should update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_062
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_062
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]    #  Known_bug   CM-882


PAC1.6.5_TC_06.3_Update_parent_adgroup (Start Date: Tomorrow - allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Start Date using value as tomorrow's date,
    ...                 Expected:       API should update a Parent adgroup successfully with response code 200.
    ${yyyy}     ${mm}       ${dd}=                      Get Time            year,month,day          UTC + 1 day
    Set Test Variable   ${start_date}           ${mm}/${dd}/${yyyy}

    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_063
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_063
    ...    response_parent_start_date_time=${start_date} 00:00
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_06.4_Update_parent_adgroup (Start Date: Invalid Format - Don't allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Start Date using value as invalid date format,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    ${yyyy}     ${mm}       ${dd}=                      Get Time            year,month,day
     Create Parent Adgroup via API      parent_name=PAC_regression_parent_165_064
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_064
    ...    response_parent_start_date_time=${mm}-${dd}-${yyyy} 00:00
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}            /reason_code            "400-999"
    Json Value Should Equal     ${body}            /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}         /errors/0/field             "startDate"
    Json Value Should Equal     ${body}         /errors/0/reason_desc       "Start Date must be in {MM/dd/yyyy HH:mm} format"
    [Tags]      #Known_bug       CM-717


PAC1.6.5_TC_06.5_Update_parent_adgroup (Start Date: Missing - Don't allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for missing Start Date,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_065
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_065
    ...    response_parent_start_date_time=MISSING
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}            /reason_code            "400-999"
    Json Value Should Equal     ${body}            /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}         /errors/0/field             "startDate"
    Json Value Should Equal     ${body}         /errors/0/reason_desc       "Start Date Required."
    [Tags]        #Known_bug       CM-717


PAC1.6.5_TC_06.6_Update_parent_adgroup (Start Date: Blank - Don't allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for blank Start Date,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_066
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_066
    ...    response_parent_start_date_time=${Empty}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}            /reason_code            "400-999"
    Json Value Should Equal     ${body}            /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}         /errors/0/field             "startDate"
    Json Value Should Equal     ${body}         /errors/0/reason_desc       "Start Date Required."
    [Tags]        #Known_bug       CM-717


PAC1.6.5_TC_06.7_Update_parent_adgroup (Start Date: null - Don't allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for null Start Date,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_067
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_067
    ...    response_parent_start_date_time=null
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}            /reason_code           "400-999"
    Json Value Should Equal     ${body}            /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}         /errors/0/field             "startDate"
    Json Value Should Equal     ${body}         /errors/0/reason_desc       "Start Date must be in {MM/dd/yyyy HH:mm} format"
    [Tags]


PAC1.6.5_TC_06.8_Update_parent_adgroup (Start Date: HH:MM:SS format - allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for null Start Date,
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_068
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_068
    ...    response_parent_start_date_time=${start_date} 15:15:15
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]        EXCLUDE  # CM-827  Known_bug   CM-827  #Excluded as validation for start date needs to be modified on length


PAC1.6.5_TC_06.9_Update_parent_adgroup (Start Date: less than campaign start date - Don't allow)
    [Documentation]     Input:          Use API to update parent adgroup if start date is less than campaign start date,
    ...                 Expected:       API should not allow to create a Parent adgroup successfully and response code is returned as 400.
    ${yyyy}    ${mm}    ${dd}    ${hours}    ${minutes}=                      Get Time            year,month,day,hours,minutes    UTC + 5 day
    Set Suite Variable    ${CampaignStartDate}   ${mm}/${dd}/${yyyy} ${hours}:${minutes}
    ${yyyy}    ${mm}    ${dd}    ${hours}    ${minutes}=                      Get Time            year,month,day,hours,minutes    UTC + 3 day
    Set Suite Variable    ${parentStartDate}   ${mm}/${dd}/${yyyy} ${hours}:${minutes}

    Set Test Variable               ${campaign_name}                    PAC_regression_campaign_165_069
    Set Test Variable               ${campaign_status}                  1
    Set Test Variable               ${campaign_start_date_time}         ${CampaignStartDate}
    Set Test Variable               ${campaign_end_date_time}           ${REGRESSION_END_DATE} 23:59
    Set Test Variable               ${campaign_timezone}                G
    Set Test Variable               ${campaign_external_id}             "externalid"
    Set Test Variable               ${campaign_io}                      6624
    Set Test Variable               ${campaign_vertical}                32
    Set Test Variable               ${campaign_segment}                 4303
    Set Test Variable               ${campaign_congrol_group_size}      0
    Set Test Variable               ${campaign_advertiser_id}           ${Advertiser_ID}
    Set Test Variable               ${campaign_access_control}          8
    Set Test Variable               ${campaign_store_visit}             ${EMPTY}
    Set Test Variable               ${campaign_demo_data_source}        7
    Set Test Variable               ${campaign_demohide_chart_id}       4, 6
    Create New Campaign via API         campaign_name=${campaign_name}
    ...                                 campaign_status=${campaign_status}
    ...                                 campaign_start_date_time=${campaign_start_date_time}
    ...                                 campaign_end_date_time=${campaign_end_date_time}
    ...                                 campaign_timezone=${campaign_timezone}
    ...                                 campaign_external_id=${campaign_external_id}
    ...                                 campaign_io=${campaign_io}
    ...                                 campaign_vertical=${campaign_vertical}
    ...                                 campaign_segment=${campaign_segment}
    ...                                 campaign_congrol_group_size=${campaign_congrol_group_size}
    ...                                 campaign_advertiser_id=${campaign_advertiser_id}
    ...                                 campaign_access_control=${campaign_access_control}
    ...                                 campaign_store_visit=${campaign_store_visit}
    ...                                 campaign_demo_data_source=${campaign_demo_data_source}
    ...                                 campaign_demohide_chart_id=${campaign_demohide_chart_id}
    ...    response_code=200

    ${parent_campaign_id}=      Get JSON Value      ${body}     /campaign/id
    ${campaignEndDate}=    Get JSON Value   ${body}   /campaign/endDate
    ${campaignEndDate}=       Evaluate    '${campaignEndDate}'.replace('"','')
    ${campaignEndDate} =   Get Substring   ${campaignEndDate}  0  -3
    Log    ${campaignEndDate}

    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_069
    ...    parent_campaign_id=${parent_campaign_id}
    ...    parent_start_date_time=${CampaignStartDate}
    ...    parent_end_date_time=${REGRESSION_END_DATE} 23:59
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_069
    ...    response_parent_start_date_time=${parentStartDate}
    ...    response_parent_campaign_id=${parent_campaign_id}
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}    /reason_code           "400-999"
    Json Value Should Equal     ${body}    /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}    /errors/0/field             "startDate"
    Json Value Should Equal     ${body}    /errors/0/reason_code       "700-014"
    ${Timezone_value}=       Evaluate    '${campaign_timezone}'.replace('G','GMT')
    Json Value Should Equal     ${body}     /errors/0/reason_desc    "Parent start date has to be within today's and within campaign date range(${CampaignStartDate} - ${campaignEndDate} ${Timezone_value})"   #  "Parent start date has to be within campaign date range(${campaign_start_date_time}:00 ${Timezone_value} - ${campaign_end_date_time}:59 ${Timezone_value})"
    [Tags]     # Known_bug       CM-924


PAC1.6.5_TC_06.10_Update_parent_adgroup (Start Date: greater than campaign end date - Don't allow)
    [Documentation]     Input:          Use API to update parent adgroup for start date greater than campaign end date,
    ...                 Expected:       API should not allow to create a Parent adgroup successfully and response code is returned as 400.
    ${yyyy}    ${mm}    ${dd}    ${hours}    ${minutes}=                      Get Time            year,month,day,hours,minutes    UTC + 5 day
    Set Suite Variable    ${CampaignEndtDate}   ${mm}/${dd}/${yyyy} ${hours}:${minutes}
    ${yyyy}    ${mm}    ${dd}    ${hours}    ${minutes}=                      Get Time            year,month,day,hours,minutes    UTC + 9 day
    Set Suite Variable    ${parentStartDate}   ${mm}/${dd}/${yyyy} ${hours}:${minutes}
    Get Start Date

    Set Test Variable               ${campaign_name}                    PAC_regression_campaign_165_0610
    Set Test Variable               ${campaign_status}                  1
    Set Test Variable               ${campaign_start_date_time}         ${todaysDate}
    Set Test Variable               ${campaign_end_date_time}           ${CampaignEndtDate}
    Set Test Variable               ${campaign_timezone}                G
    Set Test Variable               ${campaign_external_id}             "externalid"
    Set Test Variable               ${campaign_io}                      6624
    Set Test Variable               ${campaign_vertical}                32
    Set Test Variable               ${campaign_segment}                 4303
    Set Test Variable               ${campaign_congrol_group_size}      0
    Set Test Variable               ${campaign_advertiser_id}           ${Advertiser_ID}
    Set Test Variable               ${campaign_access_control}          8
    Set Test Variable               ${campaign_store_visit}             ${EMPTY}
    Set Test Variable               ${campaign_demo_data_source}        7
    Set Test Variable               ${campaign_demohide_chart_id}       4, 6

    Create New Campaign via API         campaign_name=${campaign_name}
    ...                                 campaign_status=${campaign_status}
    ...                                 campaign_start_date_time=${campaign_start_date_time}
    ...                                 campaign_end_date_time=${campaign_end_date_time}
    ...                                 campaign_timezone=${campaign_timezone}
    ...                                 campaign_external_id=${campaign_external_id}
    ...                                 campaign_io=${campaign_io}
    ...                                 campaign_vertical=${campaign_vertical}
    ...                                 campaign_segment=${campaign_segment}
    ...                                 campaign_congrol_group_size=${campaign_congrol_group_size}
    ...                                 campaign_advertiser_id=${campaign_advertiser_id}
    ...                                 campaign_access_control=${campaign_access_control}
    ...                                 campaign_store_visit=${campaign_store_visit}
    ...                                 campaign_demo_data_source=${campaign_demo_data_source}
    ...                                 campaign_demohide_chart_id=${campaign_demohide_chart_id}
    ...    response_code=200
    ${parent_campaign_id}=      Get JSON Value      ${body}     /campaign/id
    ${campaignEndDate}=    Get JSON Value   ${body}   /campaign/endDate
    ${campaignEndDate}=       Evaluate    '${campaignEndDate}'.replace('"','')
    ${campaignEndDate} =   Get Substring   ${campaignEndDate}  0  -3
    Log    ${campaignEndDate}

    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0610
    ...    parent_campaign_id=${parent_campaign_id}
    ...    parent_start_date_time=${todaysDate}
    ...    parent_end_date_time=${CampaignEndtDate}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0610
    ...    response_parent_start_date_time=${parentStartDate}
    ...    response_parent_campaign_id=${parent_campaign_id}
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}     /reason_code                "400-999"
    Json Value Should Equal     ${body}     /reason_desc                "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field             "startDate"
    Json Value Should Equal     ${body}     /errors/0/reason_code       "700-014"
    Json Value Should Equal     ${body}     /errors/0/reason_desc       "Parent start date has to be within today's and within campaign date range(${campaign_start_date_time} - ${campaignEndDate} GMT)"
    [Tags]          #  Known_bug       CM-924


PAC1.6.5_TC_06.11_Update_parent_adgroup (Start Date: Greater than its own end date - Don't allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Start Date Greater than its own end date,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0611
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    ${yyyy}     ${mm}       ${dd}=                      Get Time            year,month,day          UTC + 5 day
    Set Test Variable   ${end_date}         ${mm}/${dd}/${yyyy} 23:59

    ${yyyy}     ${mm}       ${dd}=                      Get Time            year,month,day          UTC + 10 day
    Set Test Variable   ${start_date}           ${mm}/${dd}/${yyyy} 00:00

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0611
    ...    response_parent_start_date_time=start_date
    ...    response_parent_end_date_time=end_date
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}            /reason_code           "400-999"
    Json Value Should Equal     ${body}            /reason_desc            "Validation Failure"
    [Tags]

#--------------------------------------------------------------------------------------------------------------------------------------------
PAC1.6.5_TC_07.1_Update_parent_adgroup (End Date: Yesterday - Don't allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for End Date using value as yesterday's date,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    ${yyyy}     ${mm}       ${dd}=      Get Time            year,month,day          UTC - 1 day
    Set Test Variable   ${end_date}     ${mm}/${dd}/${yyyy}

    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_071
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_071
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_end_date_time=${end_date} 23:59
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}            /reason_code            "400-999"
    Json Value Should Equal     ${body}            /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}         /errors/0/field             "endDate"
    Json Value Should Equal     ${body}         /errors/0/reason_code       "700-804"
    Json Value Should Equal     ${body}         /errors/0/reason_desc       "End date cannot be before start date."
    [Tags]    #  Known_bug       CM-1666


PAC1.6.5_TC_07.2_Update_parent_adgroup (End Date: Today - allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for End Date using value as today's date,
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_072
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    ${yyyy}     ${mm}       ${dd}=      Get Time            year,month,day      UTC
    Set Test Variable   ${enddate}      ${mm}/${dd}/${yyyy} 23:59
    Log     ${enddate}

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_072
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_end_date_time=${enddate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]    #  Known_bug       CM-882


PAC1.6.5_TC_07.3_Update_parent_adgroup (End Date: Tomorrow - allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for End Date using value as tomorrow's date,
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    ${yyyy}     ${mm}       ${dd}=      Get Time            year,month,day          UTC + 2 day
    Set Test Variable   ${end_date}     ${mm}/${dd}/${yyyy} 23:59

    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_073
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_073
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_end_date_time=${end_date}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_07.4_Update_parent_adgroup (End Date: Invalid Format - Don't allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for End Date using value as invalid date format,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_074
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true
    ${yyyy}     ${mm}       ${dd}=                      Get Time            year,month,day

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_074
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_end_date_time=${mm}-${dd}-${yyyy} 23:59:56568
    ...    updated_response_code=400
    ...    updated_success=false
    # response_code is 400 hence get reason code and reason description
    #Json Value Should Equal        ${body}            /reason_code            "700-200"
    #Json Value Should Equal        ${body}            /reason_desc            "Invalid End Date."
    [Tags]       # Known_bug     CM-479


PAC1.6.5_TC_07.5_Update_parent_adgroup (End Date: Missing - Don't allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for missing End Date,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_075
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_075
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_end_date_time=MISSING
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}            /reason_code            "400-999"
    Json Value Should Equal     ${body}            /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}         /errors/0/field             "endDate"
    Json Value Should Equal     ${body}         /errors/0/reason_desc       "End Date Required."
    [Tags]          # Known_bug       CM-717


PAC1.6.5_TC_07.6_Update_parent_adgroup (End Date: Blank - Don't allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Blank End Date,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_076
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_076
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_end_date_time=${Empty}
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}            /reason_code            "400-999"
    Json Value Should Equal     ${body}            /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}         /errors/0/field             "endDate"
    Json Value Should Equal     ${body}         /errors/0/reason_desc       "End Date Required."
    [Tags]       #  Known_bug       CM-717


PAC1.6.5_TC_07.7_Update_parent_adgroup (End Date: null - Don't allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Blank End Date,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_077
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_077
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_end_date_time=null
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}            /reason_code           "400-999"
    Json Value Should Equal     ${body}            /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}         /errors/0/field             "endDate"
    Json Value Should Equal     ${body}         /errors/0/reason_desc       "End Date must be in {MM/dd/yyyy HH:mm} format"
    [Tags]


PAC1.6.5_TC_07.8_Update_parent_adgroup (End Date: HH:MM:SS format - allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Blank End Date,
    ...                 Expected:       API should allow to update a Parent adgroup successfully
    ...                                 with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_078
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_078
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_end_date_time=${end_date} 23:23:23
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]          EXCLUDE    #     Known_bug   CM-827      #Excluded as validation for end date needs to be modified on length



PAC1.6.5_TC_07.9_Update_parent_adgroup (End Date: between start date and end date of campaign - allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for End Date between start date and end date of campaign,
    ...                 Expected:       API should allow to update a Parent adgroup successfully
    ...                                 with response code 200.
    Get Start Date
    Set Test Variable               ${campaign_name}                    PAC_regression_campaign_165_079
    Set Test Variable               ${campaign_status}                  1
    Set Test Variable               ${campaign_start_date_time}         ${todaysDate}
    Set Test Variable               ${campaign_end_date_time}           ${REGRESSION_END_DATE} 23:59
    Set Test Variable               ${campaign_timezone}                G
    Set Test Variable               ${campaign_external_id}             "externalid"
    Set Test Variable               ${campaign_io}                      6624
    Set Test Variable               ${campaign_vertical}                32
    Set Test Variable               ${campaign_segment}                 4303
    Set Test Variable               ${campaign_congrol_group_size}      0
    Set Test Variable               ${campaign_advertiser_id}           ${Advertiser_ID}
    Set Test Variable               ${campaign_access_control}          8
    Set Test Variable               ${campaign_store_visit}             ${EMPTY}
    Set Test Variable               ${campaign_demo_data_source}        7
    Set Test Variable               ${campaign_demohide_chart_id}       4, 6

    Create New Campaign via API         campaign_name=${campaign_name}
    ...                                 campaign_status=${campaign_status}
    ...                                 campaign_start_date_time=${campaign_start_date_time}
    ...                                 campaign_end_date_time=${campaign_end_date_time}
    ...                                 campaign_timezone=${campaign_timezone}
    ...                                 campaign_external_id=${campaign_external_id}
    ...                                 campaign_io=${campaign_io}
    ...                                 campaign_vertical=${campaign_vertical}
    ...                                 campaign_segment=${campaign_segment}
    ...                                 campaign_congrol_group_size=${campaign_congrol_group_size}
    ...                                 campaign_advertiser_id=${campaign_advertiser_id}
    ...                                 campaign_access_control=${campaign_access_control}
    ...                                 campaign_store_visit=${campaign_store_visit}
    ...                                 campaign_demo_data_source=${campaign_demo_data_source}
    ...                                 campaign_demohide_chart_id=${campaign_demohide_chart_id}
    ...    response_code=200

    ${parent_campaign_id}=      Get JSON Value      ${body}     /campaign/id

    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_079
    ...    parent_start_date_time=${todaysDate}
    ...    parent_end_date_time=${REGRESSION_END_DATE} 23:59
    ...    parent_campaign_id=${parent_campaign_id}
    ...    response_code=200
    ...    success=true

    ${yyyy}     ${mm}       ${dd}=      Get Time            year,month,day      UTC + 10 day
    Set Test Variable   ${enddate}      ${mm}/${dd}/${yyyy} 10:15
    Log        ${enddate}

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_079
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_end_date_time=${enddate}
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]    #  Known_bug       CM-924


PAC1.6.5_TC_07.10_Update_parent_adgroup (End Date: less than start date of campaign - Don't allow)
    [Documentation]     Input:          Use API to create parent adgroup for End Date less than start date of campaign,
    ...                 Expected:       API should not allow to create a Parent adgroup successfully and response code is returned as 400.
    Set Test Variable               ${campaign_name}                    PAC_regression_campaign_165_0710
    Set Test Variable               ${campaign_status}                  1
    Set Test Variable               ${campaign_start_date_time}         12/10/2018 00:00
    Set Test Variable               ${campaign_end_date_time}           12/10/2019 23:59
    Set Test Variable               ${campaign_timezone}                G
    Set Test Variable               ${campaign_external_id}             "externalid"
    Set Test Variable               ${campaign_io}                      6624
    Set Test Variable               ${campaign_vertical}                32
    Set Test Variable               ${campaign_segment}                 4303
    Set Test Variable               ${campaign_congrol_group_size}      0
    Set Test Variable               ${campaign_advertiser_id}           ${Advertiser_ID}
    Set Test Variable               ${campaign_access_control}          8
    Set Test Variable               ${campaign_store_visit}             ${EMPTY}
    Set Test Variable               ${campaign_demo_data_source}        7
    Set Test Variable               ${campaign_demohide_chart_id}       4, 6

    Create New Campaign via API         campaign_name=${campaign_name}
    ...                                 campaign_status=${campaign_status}
    ...                                 campaign_start_date_time=${campaign_start_date_time}
    ...                                 campaign_end_date_time=${campaign_end_date_time}
    ...                                 campaign_timezone=${campaign_timezone}
    ...                                 campaign_external_id=${campaign_external_id}
    ...                                 campaign_io=${campaign_io}
    ...                                 campaign_vertical=${campaign_vertical}
    ...                                 campaign_segment=${campaign_segment}
    ...                                 campaign_congrol_group_size=${campaign_congrol_group_size}
    ...                                 campaign_advertiser_id=${campaign_advertiser_id}
    ...                                 campaign_access_control=${campaign_access_control}
    ...                                 campaign_store_visit=${campaign_store_visit}
    ...                                 campaign_demo_data_source=${campaign_demo_data_source}
    ...                                 campaign_demohide_chart_id=${campaign_demohide_chart_id}
    ...    response_code=200

    ${parent_campaign_id}=      Get JSON Value      ${body}     /campaign/id

    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0710
    ...    parent_start_date_time=12/10/2018 00:00
    ...    parent_end_date_time=12/10/2019 23:59
    ...    parent_campaign_id=${parent_campaign_id}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0710
    ...    response_parent_start_date_time=12/10/2018 00:00
    ...    response_parent_end_date_time=05/10/2018 10:15
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}            /reason_code           "400-999"
    Json Value Should Equal     ${body}            /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}         /errors/0/field             "endDate"
    Json Value Should Equal     ${body}         /errors/0/reason_code       "700-804"
    Json Value Should Equal     ${body}         /errors/0/reason_desc       "End date cannot be before start date."
    [Tags]   #   Known_bug       CM-924


PAC1.6.5_TC_07.11_Update_parent_adgroup (End Date: greater than end date of campaign - Don't allow)
    [Documentation]     Input:          Use API to create parent adgroup for End Date greater than end date of campaign,
    ...                 Expected:       API should not allow to create a Parent adgroup successfully and response code is returned as 400.
    Set Test Variable               ${campaign_name}                    PAC_regression_campaign_165_0711
    Set Test Variable               ${campaign_status}                  1
    Set Test Variable               ${campaign_start_date_time}         12/10/2018 00:00
    Set Test Variable               ${campaign_end_date_time}           12/10/2019 23:59
    Set Test Variable               ${campaign_timezone}                G
    Set Test Variable               ${campaign_external_id}             "externalid"
    Set Test Variable               ${campaign_io}                      6624
    Set Test Variable               ${campaign_vertical}                32
    Set Test Variable               ${campaign_segment}                 4303
    Set Test Variable               ${campaign_congrol_group_size}      0
    Set Test Variable               ${campaign_advertiser_id}           ${Advertiser_ID}
    Set Test Variable               ${campaign_access_control}          8
    Set Test Variable               ${campaign_store_visit}             ${EMPTY}
    Set Test Variable               ${campaign_demo_data_source}        7
    Set Test Variable               ${campaign_demohide_chart_id}       4, 6

    Create New Campaign via API         campaign_name=${campaign_name}
    ...                                 campaign_status=${campaign_status}
    ...                                 campaign_start_date_time=${campaign_start_date_time}
    ...                                 campaign_end_date_time=${campaign_end_date_time}
    ...                                 campaign_timezone=${campaign_timezone}
    ...                                 campaign_external_id=${campaign_external_id}
    ...                                 campaign_io=${campaign_io}
    ...                                 campaign_vertical=${campaign_vertical}
    ...                                 campaign_segment=${campaign_segment}
    ...                                 campaign_congrol_group_size=${campaign_congrol_group_size}
    ...                                 campaign_advertiser_id=${campaign_advertiser_id}
    ...                                 campaign_access_control=${campaign_access_control}
    ...                                 campaign_store_visit=${campaign_store_visit}
    ...                                 campaign_demo_data_source=${campaign_demo_data_source}
    ...                                 campaign_demohide_chart_id=${campaign_demohide_chart_id}
    ...    response_code=200

    ${parent_campaign_id}=      Get JSON Value      ${body}     /campaign/id

    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0711
    ...    parent_start_date_time=12/10/2018 00:00
    ...    parent_end_date_time=12/10/2019 23:59
    ...    parent_campaign_id=${parent_campaign_id}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0711
    ...    response_parent_start_date_time=12/10/2018 00:00
    ...    response_parent_end_date_time=05/08/2017 12:12
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}    /reason_code    "400-999"
    Json Value Should Equal     ${body}    /reason_desc    "Validation Failure"
    Should Match Regexp         ${body}     {"reason_code":"700-804","reason_desc":"End date cannot be before start date.","field":"endDate"}
    #Should Match Regexp         ${body}     {"reason_code":"700-015","reason_desc":"Parent end date has to be within campaign date range(12/10/2018 00:00:00 GMT - 12/10/2019 23:59:59 GMT)","field":"endDate"}
    [Tags]       #  Known_bug       CM-924

#--------------------------------------------------------------------------------------------------------------------------------------------
PAC1.6.5_TC_08.1_Update_parent_adgroup (Impression Goal: 100000 - accepted)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Impression Goal using value as 100000,
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_081
    ...    parent_start_date_time=${todaysDate}
    ...    parent_end_date_time=${REGRESSION_END_DATE} 23:59
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_081
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_impression_goal=100000
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_08.2_Update_parent_adgroup (Impression Goal: 0 - Not accepted)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Impression Goal using value as 0,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_08_2
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API       response_parent_name=PAC_regression_parent_165_082
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_impression_goal=0
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}            /reason_code            "400-999"
    Json Value Should Equal     ${body}            /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}         /errors/0/field             "impressionGoal"
    Json Value Should Equal     ${body}         /errors/0/reason_desc       "Impression Goal must be an Integer greater than Zero and length is up to 10 chars"
    [Tags]     #Known_bug   CM-369


PAC1.6.5_TC_08.3_Update_parent_adgroup (Impression Goal: Negative value - Not accepted)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Impression Goal using value as any Negative value e.g. (-5000),
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_083
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_083
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_impression_goal= -5000
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}            /reason_code            "400-999"
    Json Value Should Equal     ${body}            /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}         /errors/0/field             "impressionGoal"
    Json Value Should Equal     ${body}         /errors/0/reason_desc       "Impression Goal must be an Integer greater than Zero and length is up to 10 chars"
    [Tags]    #Known_bug   CM-369


PAC1.6.5_TC_08.4_Update_parent_adgroup (Impression Goal: Empty - Not accepted)
    [Documentation]     Input:          Use API to Update Parent Adgroup for empty Impression Goal,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_084
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_084
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_impression_goal=${Empty}
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}            /reason_code            "400-001"
    Json Value Should Equal     ${body}            /reason_desc            "Invalid Request."
    [Tags]


PAC1.6.5_TC_08.5_Update_parent_adgroup (Impression Goal: Missing, don't accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for missing Impression Goal,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_085
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_085
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_impression_goal=null
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}         /reason_code            "400-999"
    Json Value Should Equal     ${body}         /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}         /errors/0/field         "impressionGoal"
    Json Value Should Equal     ${body}         /errors/0/reason_desc   "Impression Goal Required."
    [Tags]


PAC1.6.5_TC_08.6_Update_parent_adgroup (Impression Goal: more than Maximum value 10 characters - Not accepted)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Impression Goal value more than Maximum 10 characters,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_086
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_086
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_impression_goal=1000000000000000
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}    /reason_code             "400-999"
    Json Value Should Equal     ${body}    /reason_desc             "Validation Failure"
    Json Value Should Equal     ${body}    /errors/0/field          "impressionGoal"
    Json Value Should Equal     ${body}    /errors/0/reason_desc    "Impression Goal must be an Integer greater than Zero and length is up to 10 chars"
    [Tags]   #   Known_bug       CM-1439


PAC1.6.5_TC_08.7_Update_parent_adgroup (Impression Goal: 10.25 - Not accepted)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Impression Goal value 10.25 (in decimal),
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_087
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_087
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_impression_goal=10.25
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}    /reason_code             "400-999"
    Json Value Should Equal     ${body}    /reason_desc             "Validation Failure"
    Json Value Should Equal     ${body}    /errors/0/field          "impressionGoal"
    Json Value Should Equal     ${body}    /errors/0/reason_desc    "Impression Goal must be an Integer greater than Zero and length is up to 10 chars"
    [Tags]


#--------------------------------------------------------------------------------------------------------------------------------------------
#conversion tracking, check conversion tracking pixel in response
PAC1.6.5_TC_09.1_Update_parent_adgroup (conversion tracking: false - accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for conversion tracking value as false,
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_091
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_is_conversion_tracked=true
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_091
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_is_conversion_tracked=false
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_09.2_Update_parent_adgroup (conversion tracking: true - accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for conversion tracking value as true,
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_092
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_is_conversion_tracked=false
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_092
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_is_conversion_tracked=true
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_09.3_Update_parent_adgroup (conversion tracking: blank - invalid json)
    [Documentation]     Input:          Use API to Update Parent Adgroup for blank conversion tracking value,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_093
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_093
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_is_conversion_tracked=${Empty}
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}            /reason_code            "400-001"
    Json Value Should Equal     ${body}            /reason_desc            "Invalid Request."
    [Tags]


PAC1.6.5_TC_09.4_Update_parent_adgroup (conversion tracking: yes - unsupported)
    [Documentation]     Input:          Use API to Update Parent Adgroup for conversion tracking value as 'yes',
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_094
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true
    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_094
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_is_conversion_tracked=yes
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}            /reason_code            "400-001"
    Json Value Should Equal     ${body}            /reason_desc            "Invalid Request."
    [Tags]


PAC1.6.5_TC_09.5_Update_parent_adgroup (conversion tracking: 0 - Don't Accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for conversion tracking value as 0,
    ...                 Expected:       API should internally convert 0 number to value false and allow
    ...                                 to create a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_095
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_095
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_is_conversion_tracked=0
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}    /reason_code             "700-302"
    Json Value Should Equal     ${body}    /reason_desc     "Attribute Data Type does not match with Value, Expected boolean ."
    [Tags]      EXCLUDE    Known_bug   CM-376          # excluded due to development team won't fix


PAC1.6.5_TC_09.6_Update_parent_adgroup (conversion tracking: missing - not accepted)
    [Documentation]     Input:          Use API to Update Parent Adgroup for missing conversion tracking,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_096
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_096
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_is_conversion_tracked=MISSING
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}            /reason_code            "400-001"
    Json Value Should Equal     ${body}            /reason_desc            "Invalid Request."
    [Tags]


PAC1.6.5_TC_09.7_Update_parent_adgroup (conversion tracking: any positive number - internally converted into True)
    [Documentation]     Input:          Use API to Update Parent Adgroup for conversion tracking value as 100,
    ...                 Expected:       API should internally convert any number to value true and allow
    ...                                 to create a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_097
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_097
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_is_conversion_tracked=100
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]   EXCLUDE       #Known_bug   CM-376   # excluded due to development team won't fix


PAC1.6.5_TC_09.8_Update_parent_adgroup (conversion tracking: any negative number - internally converted into false)
    [Documentation]     Input:          Use API to Update Parent Adgroup for conversion tracking value as -50,
    ...                 Expected:       API should internally convert any number to value true and allow
    ...                                 to create a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_098
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_098
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_is_conversion_tracked=-50
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]  EXCLUDE      #Known_bug   CM-376   # excluded due to development team won't fix


PAC1.6.5_TC_09.9_Update_parent_adgroup (conversion tracking: any sppecial characters - unsupported)
    [Documentation]     Input:          Use API to Update Parent Adgroup for conversion tracking value as any sppecial characters,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_099
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API       response_parent_name=PAC_regression_parent_165_099
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_is_conversion_tracked=!@#
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}            /reason_code            "400-001"
    Json Value Should Equal     ${body}            /reason_desc            "Invalid Request."
    [Tags]


PAC1.6.5_TC_09.10_Update_parent_adgroup (conversion tracking: blank space - unsupported)
    [Documentation]     Input:          Use API to Update Parent Adgroup for conversion tracking value as blank space,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0910
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0910
    ...    response_parent_is_conversion_tracked=' '
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    updated_response_code=400
    ...    updated_success=false
    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}            /reason_code            "400-001"
    Json Value Should Equal     ${body}            /reason_desc            "Invalid Request."
    [Tags]

#--------------------------------------------------------------------------------------------------------------------------------------------

PAC1.6.5_TC_10.0.Update parent adgroup Optimization (ctrVcrOptimization Missing - accept)
    [Documentation]     Input:          Use API to update parent adgroup for Optimization value as 2 (means 'VCR'),
    ...      Expected:       API should allow to update a Parent adgroup successfully and response code is returned as 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0101
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_ctrOptimization=0
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0101
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ctrVcrOptimization=MISSING
    ...    updated_response_code=400
    ...    updated_success=false
    Json Value Should Equal     ${body}    /reason_code     "400-001"
    Json Value Should Equal     ${body}    /reason_desc     "Invalid Request."
    [Tags]


PAC1.6.5_TC_10.1.1_Update parent adgroup (ctrVcrOptimization.Optimization : 0 - accept)
    [Documentation]     Input:    Use API to update parent adgroup for Optimization value as 0 (means 'None'),
    ...      Expected:       API should allow to update a Parent adgroup successfully and response code is returned as 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_01011
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_ctrOptimization=1
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_01011
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ctrOptimization=0
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_10.1.2_Update parent adgroup (ctrVcrOptimization.Optimization : 1 - accept)
    [Documentation]     Input:          Use API to update parent adgroup for Optimization value as 1 (means 'CTR'),
    ...      Expected:       API should allow to update a Parent adgroup successfully and response code is returned as 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_01012
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_ctrOptimization=0
    ...    response_code=200

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_01012
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ctrOptimization=1
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]

PAC1.6.5_TC_10.1.3_Update parent adgroup (ctrVcrOptimization.Optimization : 2 - accept)
    [Documentation]     Input:          Use API to update parent adgroup for Optimization value as 2 (means 'VCR'),
    ...      Expected:       API should allow to update a Parent adgroup successfully and response code is returned as 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_01013
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_ctrOptimization=1
    ...    response_code=200

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_01013
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ctrOptimization=2
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_10.1.4_Update parent adgroup (ctrVcrOptimization.Optimization : Blank - not accept)
    [Documentation]     Input:          Use API to update parent adgroup for Blank Optimization value,
    ...      Expected:       API should not allow to update a Parent adgroup successfully and response code is returned as 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_01014
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_ctrOptimization=1
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_01014
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ctrOptimization=${Empty}
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}    /reason_code     "400-001"
    Json Value Should Equal     ${body}    /reason_desc     "Invalid Request."
    [Tags]



PAC1.6.5_TC_10.1.5_Update parent adgroup (ctrVcrOptimization.Optimization : values any positive number other than 0, 1, 2 - not accept)
    [Documentation]     Input:          Use API to update parent adgroup for Optimization value any positive number other than 0, 1, 2
    ...           (i.e. other than None, CTR, VCR)
    ...      Expected:       API should not allow to update a Parent adgroup successfully and response code is returned as 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_01015
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_ctrOptimization=1
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_01015
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ctrOptimization=6
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}    /reason_code     "400-999"
    Json Value Should Equal     ${body}    /reason_desc     "Validation Failure"
    Json Value Should Equal     ${body}    /errors/0/field    "ctrVcrOptimization.ctrOptimization"
    Json Value Should Equal     ${body}    /errors/0/reason_desc   "Invalid CTR optimization"
    [Tags]



PAC1.6.5_TC_10.1.6_Update parent adgroup (ctrVcrOptimization.Optimization : values any Negative number - not accept)
    [Documentation]     Input:          Use API to update parent adgroup for Optimization value as any negative number,
    ...      Expected:       API should not allow to update a Parent adgroup successfully and response code is returned as 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_01016
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_ctrOptimization=1
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_01016
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ctrOptimization=-6
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}    /reason_code     "400-999"
    Json Value Should Equal     ${body}    /reason_desc     "Validation Failure"
    Json Value Should Equal     ${body}    /errors/0/field         "ctrVcrOptimization.ctrOptimization"
    Json Value Should Equal     ${body}    /errors/0/reason_desc   "Invalid CTR optimization"
    [Tags]


PAC1.6.5_TC_10.1.7_Update parent adgroup (ctrVcrOptimization.Optimization : values any characters except numbers - not accept)
    [Documentation]     Input:          Use API to update parent adgroup for Optimization value any characters except numbers,
    ...      ${\n} Expected:       API should not allow to update a Parent adgroup successfully and response code is returned as 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_01017
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_ctrOptimization=1
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_01017
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ctrOptimization=abc
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}    /reason_code     "400-001"
    Json Value Should Equal     ${body}    /reason_desc     "Invalid Request."
    [Tags]



PAC1.6.5_TC_10.2.1.1_Update parent adgroup for None Optimization (ctrVcrOptimization.goal : 0 - accept)
    [Documentation]     Input:          Use API to update parent adgroup for Goal value as 0,
    ...      ${\n} Expected:       API should allow to update a Parent adgroup successfully and response code is returned as 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_010211
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_ctrOptimization=1
    ...    parent_ctrVcrGoal=0.5
    ...    response_code=200

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_010211
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ctrOptimization=0
    ...    response_parent_ctrVcrGoal=0
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}    /reason_code     "400-999"
    Json Value Should Equal     ${body}    /reason_desc     "Validation Failure"
    Json Value Should Equal     ${body}    /errors/0/field    "goal"
    Json Value Should Equal     ${body}    /errors/0/reason_desc   "Invalid CTR/VCR optimization goal."
    [Tags]        EXCLUDE    # Exclude reason : None Optimization will not passed from UI


PAC1.6.5_TC_10.2.1.2_Update parent adgroup for CTR Optimization (ctrVcrOptimization.goal : 0 - Don't accept)
    [Documentation]     Input:          Use API to update parent adgroup for Optimization value as 1 (means 'CTR'),
    ...      ${\n} Expected:       API should allow to update a Parent adgroup successfully and response code is returned as 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_010212
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_ctrOptimization=1
    ...    parent_ctrVcrGoal=0.5
    ...    response_code=200

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_010212
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ctrOptimization=1
    ...    response_parent_ctrVcrGoal=0
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}    /reason_code     "400-999"
    Json Value Should Equal     ${body}    /reason_desc     "Validation Failure"
    Json Value Should Equal     ${body}    /errors/0/field    "goal"
    Json Value Should Equal     ${body}    /errors/0/reason_desc   "The CTR/VCR optimization goal must be between 0.01 and 100."
    [Tags]


PAC1.6.5_TC_10.2.1.3_Update parent adgroup for VCR Optimization (ctrVcrOptimization.goal : 0 - Don't accept)
    [Documentation]     Input:          Use API to update parent adgroup for Goal value as 0,
    ...      Expected:       API should allow to update a Parent adgroup successfully and response code is returned as 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_010213
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_ctrOptimization=2
    ...    parent_ctrVcrGoal=0.5
    ...    response_code=200

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_010211
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ctrOptimization=2
    ...    response_parent_ctrVcrGoal=0
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}    /reason_code     "400-999"
    Json Value Should Equal     ${body}    /reason_desc     "Validation Failure"
    Json Value Should Equal     ${body}    /errors/0/field    "goal"
    Json Value Should Equal     ${body}    /errors/0/reason_desc   "The CTR/VCR optimization goal must be between 0.01 and 100."
    [Tags]


PAC1.6.5_TC_10.2.2.1_Update parent adgroup for None Optimization (ctrVcrOptimization.goal : 0.01 - Don't accept)
    [Documentation]     Input:          Use API to update parent adgroup for Goal value as 0,
    ...      Expected:       API should allow to update a Parent adgroup successfully and response code is returned as 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_010221
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_ctrOptimization=2
    ...    parent_ctrVcrGoal=0.5
    ...    response_code=200

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_010221
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ctrOptimization=0
    ...    response_parent_ctrVcrGoal=0.01
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}    /reason_code     "400-999"
    Json Value Should Equal     ${body}    /reason_desc     "Validation Failure"
    Json Value Should Equal     ${body}    /errors/0/field    "goal"
    Json Value Should Equal     ${body}    /errors/0/reason_desc   "Invalid CTR/VCR optimization goal."
    [Tags]    CM-2331   Known_bug   EXCLUDE      # Exclude reason : None Optimization will not passed from UI


PAC1.6.5_TC_10.2.2.2_Update parent adgroup for CTR Optimization (ctrVcrOptimization.goal : 0.1 - accept)
    [Documentation]     Input:          Use API to update parent adgroup for Goal value as 0,
    ...      Expected:       API should allow to update a Parent adgroup successfully and response code is returned as 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_010222
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_ctrOptimization=1
    ...    parent_ctrVcrGoal=0.5
    ...    response_code=200

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_010222
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ctrOptimization=1
    ...    response_parent_ctrVcrGoal=0.1
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_10.2.2.3_Update parent adgroup for VCR Optimization (ctrVcrOptimization.goal : 0.1 - accept)
    [Documentation]     Input:          Use API to update parent adgroup for Goal value as 0,
    ...      Expected:       API should allow to update a Parent adgroup successfully and response code is returned as 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_010223
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_ctrOptimization=2
    ...    parent_ctrVcrGoal=0.5
    ...    response_code=200

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_010223
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ctrOptimization=2
    ...    response_parent_ctrVcrGoal=0.1
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]



PAC1.6.5_TC_10.2.3.1_Update parent adgroup for None Optimizaition (ctrVcrOptimization.goal : 1.01 - Don't accept)
    [Documentation]     Input:          Use API to update parent adgroup for Goal value as 101,
    ...      Expected:       API should allow to update a Parent adgroup successfully and response code is returned as 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0102231
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_ctrOptimization=2
    ...    parent_ctrVcrGoal=0.5
    ...    response_code=200

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0102231
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ctrOptimization=0
    ...    response_parent_ctrVcrGoal=1.01
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}    /reason_code     "400-999"
    Json Value Should Equal     ${body}    /reason_desc     "Validation Failure"
    Json Value Should Equal     ${body}    /errors/0/field    "goal"
    Json Value Should Equal     ${body}    /errors/0/reason_desc   "Invalid CTR/VCR optimization goal."
    [Tags]    EXCLUDE   # Exclude reason : None Optimization will not passed from UI


PAC1.6.5_TC_10.2.3.2_Update parent adgroup for CTR Optimizaition (ctrVcrOptimization.goal : 200 - Don't accept)
    [Documentation]     Input:          Use API to update parent adgroup for Goal value as 101,
    ...      Expected:       API should allow to update a Parent adgroup successfully and response code is returned as 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0102232
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_ctrOptimization=1
    ...    parent_ctrVcrGoal=0.5
    ...    response_code=200

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0102232
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ctrOptimization=0
    ...    response_parent_ctrVcrGoal=200
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}    /reason_code     "400-999"
    Json Value Should Equal     ${body}    /reason_desc     "Validation Failure"
    Json Value Should Equal     ${body}    /errors/0/field    "goal"
    Json Value Should Equal     ${body}    /errors/0/reason_desc   "The CTR/VCR optimization goal must be between 0.01 and 100."
    [Tags]    CM-2331   known_bug      # Exclude reason : None Optimization will not passed from UI


PAC1.6.5_TC_10.2.3.3_Update parent adgroup for VCR Optimizaition (ctrVcrOptimization.goal : 101 - Don't accept)
    [Documentation]     Input:          Use API to update parent adgroup for Goal value as 101,
    ...      Expected:       API should allow to update a Parent adgroup successfully and response code is returned as 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_010233
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_ctrOptimization=1
    ...    parent_ctrVcrGoal=0.5
    ...    response_code=200

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_010233
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ctrOptimization=2
    ...    response_parent_ctrVcrGoal=1.01
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}    /reason_code     "400-999"
    Json Value Should Equal     ${body}    /reason_desc     "Validation Failure"
    Json Value Should Equal     ${body}    /errors/0/field    "goal"
    Json Value Should Equal     ${body}    /errors/0/reason_desc   "The CTR/VCR optimization goal must be between 0.01 and 100."
    [Tags]


PAC1.6.5_TC_10.2.4.1_Update parent adgroup for None Optimization (ctrVcrOptimization.goal : null - accept)
    [Documentation]     Input:          Use API to update parent adgroup for Goal value as null,
    ...      Expected:       API should allow to a update parent adgroup successfully and response code is returned as 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_010241
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_ctrOptimization=1
    ...    parent_ctrVcrGoal=0.5
    ...    response_code=200

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_010241
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ctrOptimization=0
    ...    response_parent_ctrVcrGoal=null
    ...    updated_response_code=200
    ...    updated_success=true

    [Tags]


PAC1.6.5_TC_10.2.4.2_Update parent adgroup for CTR Optimization (ctrVcrOptimization.goal : null - accept)
    [Documentation]     Input:          Use API to update parent adgroup for Goal value as null,
    ...      Expected:       API should allow to update a Parent adgroup successfully and response code is returned as 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_010242
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_ctrOptimization=1
    ...    parent_ctrVcrGoal=0.5
    ...    response_code=200

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_010242
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ctrOptimization=1
    ...    response_parent_ctrVcrGoal=null
    ...    updated_response_code=200
    ...    updated_success=true

    [Tags]


PAC1.6.5_TC_10.2.4.3_Update parent adgroup for VCR Optimization (ctrVcrOptimization.goal : null - accept)
    [Documentation]     Input:          Use API to update parent adgroup for Goal value as null,
    ...      Expected:       API should allow to update a Parent adgroup successfully and response code is returned as 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_010243
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_ctrOptimization=1
    ...    parent_ctrVcrGoal=0.5
    ...    response_code=200

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_010243
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ctrOptimization=2
    ...    response_parent_ctrVcrGoal=null
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_10.2.5.1_Update parent adgroup for None Optimization (ctrVcrOptimization.goal : Empty - Don't accept)
    [Documentation]     Input:          Use API to update parent adgroup for Goal value as Empty,
    ...      Expected:       API should allow to update a Parent adgroup successfully and response code is returned as 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_010251
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_ctrOptimization=0
    ...    parent_ctrVcrGoal=null
    ...    response_code=200

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_010251
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ctrOptimization=0
    ...    response_parent_ctrVcrGoal=${Empty}
    ...    updated_response_code=200
    ...    updated_success=true

    Json Value Should Equal     ${body}    /reason_code     "400-001"
    Json Value Should Equal     ${body}    /reason_desc     "Invalid Request."
    [Tags]        EXCLUDE    # Exclude reason : None Optimization will not passed from UI


PAC1.6.5_TC_10.2.5.2_Update parent adgroup for CTR Optimization (ctrVcrOptimization.goal : Empty - Don't accept)
    [Documentation]     Input: Use API to update parent adgroup for Goal value as Empty,
    ...      Expected: API should allow to update a Parent adgroup successfully and response code is returned as 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_010252
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_ctrOptimization=1
    ...    parent_ctrVcrGoal=0.6
    ...    response_code=200

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_010252
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ctrOptimization=1
    ...    response_parent_ctrVcrGoal=${Empty}
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}    /reason_code     "400-001"
    Json Value Should Equal     ${body}    /reason_desc     "Invalid Request."
    [Tags]


PAC1.6.5_TC_10.2.5.3_Update parent adgroup for VCR Optimization (ctrVcrOptimization.goal : Empty - Don't accept)
    [Documentation]     Input:          Use API to update parent adgroup for Goal value as Empty,
    ...      Expected:       API should allow to update a Parent adgroup successfully and response code is returned as 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_010253
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_ctrOptimization=2
    ...    parent_ctrVcrGoal=0.6
    ...    response_code=200

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_010253
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ctrOptimization=2
    ...    response_parent_ctrVcrGoal=${Empty}
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}    /reason_code     "400-001"
    Json Value Should Equal     ${body}    /reason_desc     "Invalid Request."
    [Tags]


PAC1.6.5_TC_10.2.6.1_Update parent adgroup for None Optimization (ctrVcrOptimization.goal : Missing - accept)
    [Documentation]     Input:          Use API to update parent adgroup for Goal value as Missing,
    ...      Expected:       API should allow to update a Parent adgroup successfully and response code is returned as 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_010261
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_ctrOptimization=0
    ...    parent_ctrVcrGoal=null
    ...    response_code=200

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_010261
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ctrOptimization=0
    ...    response_parent_ctrVcrGoal=MISSING
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]



PAC1.6.5_TC_10.2.6.2_Update parent adgroup for CTR Optimization (ctrVcrOptimization.goal : Missing - accept)
    [Documentation]     Input:          Use API to update parent adgroup for Goal value as Missing,
    ...      Expected:       API should allow to update a Parent adgroup successfully and response code is returned as 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_010262
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_ctrOptimization=2
    ...    parent_ctrVcrGoal=0.5
    ...    response_code=200

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_010262
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ctrOptimization=1
    ...    response_parent_ctrVcrGoal=MISSING
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_10.2.6.3_Update parent adgroup for VCR Optimization (ctrVcrOptimization.goal : Missing - ccept)
    [Documentation]     Input:          Use API to update parent adgroup for Goal value as Missing,
    ...      Expected:       API should allow to update a Parent adgroup successfully and response code is returned as 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_010263
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_ctrOptimization=1
    ...    parent_ctrVcrGoal=0.5
    ...    response_code=200

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_010263
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ctrOptimization=2
    ...    response_parent_ctrVcrGoal=MISSING
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_10.2.7.1_Update parent adgroup for None Optimization (ctrVcrOptimization.goal : values any Negative number - not accept)
    [Documentation]     Input:          Use API to update parent adgroup for goal value as any negative number,
    ...      Expected:       API should not allow to update a Parent adgroup successfully and response code is returned as 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_010271
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_ctrOptimization=1
    ...    parent_ctrVcrGoal=0.5
    ...    response_code=200

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_010271
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ctrOptimization=0
    ...    response_parent_ctrVcrGoal=-6
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}    /reason_code     "400-999"
    Json Value Should Equal     ${body}    /reason_desc     "Validation Failure"
    Json Value Should Equal     ${body}    /errors/0/field         "goal"
    Json Value Should Equal     ${body}    /errors/0/reason_desc   "Invalid CTR/VCR optimization goal."
    [Tags]    CM-2331   known_bug    # Exclude reason : None Optimization will not passed from UI


PAC1.6.5_TC_10.2.7.2_Update parent adgroup for CTR Optimization (ctrVcrOptimization.goal : values any Negative number - not accept)
    [Documentation]     Input:          Use API to update parent adgroup for goal value as any negative number,
    ...      Expected:       API should not allow to update a Parent adgroup successfully and response code is returned as 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_010272
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_ctrOptimization=2
    ...    parent_ctrVcrGoal=0.5
    ...    response_code=200

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_010272
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ctrOptimization=1
    ...    response_parent_ctrVcrGoal=-6
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}    /reason_code     "400-999"
    Json Value Should Equal     ${body}    /reason_desc     "Validation Failure"
    Json Value Should Equal     ${body}    /errors/0/field         "goal"
    Json Value Should Equal     ${body}    /errors/0/reason_desc   "The CTR/VCR optimization goal must be between 0.01 and 100."
    [Tags]


PAC1.6.5_TC_10.2.7.3_Update parent adgroup for VCR Optimization (ctrVcrOptimization.goal : values any Negative number - not accept)
    [Documentation]     Input:          Use API to update parent adgroup for goal value as any negative number,
    ...      Expected:       API should not allow to update a Parent adgroup successfully and response code is returned as 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_010273
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_ctrOptimization=1
    ...    parent_ctrVcrGoal=0.5
    ...    response_code=200

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_010273
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ctrOptimization=2
    ...    response_parent_ctrVcrGoal=-6
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}    /reason_code     "400-999"
    Json Value Should Equal     ${body}    /reason_desc     "Validation Failure"
    Json Value Should Equal     ${body}    /errors/0/field         "goal"
    Json Value Should Equal     ${body}    /errors/0/reason_desc   "The CTR/VCR optimization goal must be between 0.01 and 100."
    [Tags]


PAC1.6.5_TC_10.2.8.1_Create new parent adgroup for None Optimization (ctrVcrOptimization.goal : values any characters except numbers - not accept)
    [Documentation]     Input:          Use API to update parent adgroup for goal value any characters except numbers,
    ...      Expected:       API should not allow to update a Parent adgroup successfully and response code is returned as 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_010281
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_ctrOptimization=1
    ...    parent_ctrVcrGoal=0.5
    ...    response_code=200

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_010281
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ctrOptimization=0
    ...    response_parent_ctrVcrGoal=abc
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}    /reason_code    "400-001"
    Json Value Should Equal     ${body}    /reason_desc    "Invalid Request."
    [Tags]


PAC1.6.5_TC_10.2.8.2_Update parent adgroup for CTR Optimization (ctrVcrOptimization.goal : values any characters except numbers - not accept)
    [Documentation]     Input:          Use API to update parent adgroup for goal value any characters except numbers,
    ...      Expected:       API should not allow to update a Parent adgroup successfully and response code is returned as 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_010282
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_ctrOptimization=2
    ...    parent_ctrVcrGoal=0.5
    ...    response_code=200

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_010282
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ctrOptimization=1
    ...    response_parent_ctrVcrGoal=abc
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}    /reason_code     "400-001"
    Json Value Should Equal     ${body}    /reason_desc     "Invalid Request."
    [Tags]


PAC1.6.5_TC_10.2.8.3_Update parent adgroup for VCR Optimization (ctrVcrOptimization.goal : values any characters except numbers - not accept)
    [Documentation]     Input:          Use API to update parent adgroup for goal value any characters except numbers,
    ...      Expected:       API should not allow to update a Parent adgroup successfully and response code is returned as 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_010283
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_ctrOptimization=1
    ...    parent_ctrVcrGoal=0.5
    ...    response_code=200

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_010283
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ctrOptimization=2
    ...    response_parent_ctrVcrGoal=abc
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}    /reason_code     "400-001"
    Json Value Should Equal     ${body}    /reason_desc     "Invalid Request."
    [Tags]


PAC1.6.5_TC_11.1.1_Check for CTR optimization, databse value populates as expected.
    [Documentation]    To validate when no optimization selected, database value for column goal in table
    ...  ${Space} adgroup_optimization for particular parent adgroup id and for ctr_opt = 0 is saved as zero
    Set Test Variable    ${ctrOptimization}    1
    Set Test Variable    ${ParentName}    PAC_regression_parent_165_0111111
    Create Parent Adgroup via API       parent_name=${ParentName}
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_ctrOptimization=${ctrOptimization}
    ...    parent_ctrVcrGoal=0.5
    ...    response_code=200

    ${parent_groupid}=    Get Json Value   ${body}    /parent/id

    Set Test Variable    ${goal}    0.25

    Update Parent Adgroup Via API
    ...    response_parent_name=${ParentName}
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ctrOptimization=${ctrOptimization}
    ...    response_parent_ctrVcrGoal=${goal}
    ...    updated_response_code=200
    ...    updated_success=true

    Confirm DB Value is correct for goal in Database for optimization
    ...    ParentName=${ParentName}
    ...    ctr_Optimization=${ctrOptimization}
    ...    goal=${goal}
    [Tags]



PAC1.6.5_TC_11.1.2_Check for VCR optimization, databse value populates as expected.
    [Documentation]    To validate when no optimization selected, database value for column goal in table
    ...  ${Space} adgroup_optimization for particular parent adgroup id and for ctr_opt = 0 is saved as zero
    Set Test Variable    ${ctrOptimization}    2
    Set Test Variable    ${ParentName}    PAC_regression_parent_165_0111112
    Create Parent Adgroup via API       parent_name=${ParentName}
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_ctrOptimization=${ctrOptimization}
    ...    parent_ctrVcrGoal=0.9
    ...    response_code=200

    ${parent_groupid}=    Get Json Value   ${body}    /parent/id

    Set Test Variable    ${goal}    0.45

    Update Parent Adgroup Via API
    ...    response_parent_name=${ParentName}
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ctrOptimization=${ctrOptimization}
    ...    response_parent_ctrVcrGoal=${goal}
    ...    updated_response_code=200
    ...    updated_success=true

    Confirm DB Value is correct for goal in Database for optimization
    ...    ParentName=${ParentName}
    ...    ctr_Optimization=${ctrOptimization}
    ...    goal=${goal}
    [Tags]




#--------------------------------------------------------------------------------------------------------------------------------------------
PAC1.6.5_TC_11.1_Update_parent_adgroup (Measurement: blank - Don't allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Blank Measurement,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0111
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0111
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_measurement=[${Empty}]
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}            /reason_code            "400-999"
    Json Value Should Equal     ${body}            /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}            /errors/0/reason_code    "700-505"
    Json Value Should Equal     ${body}            /errors/0/field          "measurement"
    Json Value Should Equal     ${body}            /errors/0/reason_desc    "Measurement cannot be null."
    [Tags]


PAC1.6.5_TC_11.2_Update_parent_adgroup (Measurement: Missing - Don't Allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Missing Measurement,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0112
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0112
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_measurement=[MISSING]
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}            /reason_code            "400-999"
    Json Value Should Equal     ${body}            /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}            /errors/0/reason_code    "700-505"
    Json Value Should Equal     ${body}            /errors/0/field          "measurement"
    Json Value Should Equal     ${body}            /errors/0/reason_desc    "Measurement cannot be null."
    [Tags]


PAC1.6.5_TC_11.3_Update_parent_adgroup (Measurement: null - Don't Allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Measurement as null value,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0113
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0113
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_measurement=null
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}            /reason_code            "400-999"
    Json Value Should Equal     ${body}            /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}            /errors/0/reason_code    "700-505"
    Json Value Should Equal     ${body}            /errors/0/field          "measurement"
    Json Value Should Equal     ${body}            /errors/0/reason_desc    "Measurement cannot be null."
    [Tags]


PAC1.6.5_TC_11.4_Update_parent_adgroup (Measurement: 999 - Don't Allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Measurement value 999,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0114
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0114
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_measurement=[999]
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}            /reason_code            "400-999"
    Json Value Should Equal     ${body}            /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}            /errors/0/reason_code            "700-212"
    Json Value Should Equal     ${body}            /errors/0/reason_desc            "Invalid Measurement Datasource."
    [Tags]          Known_bug       CM-1568     EXCLUDE    #nonUI


PAC1.6.5_TC_11.5_Update_parent_adgroup (Measurement: 0 - Don't Allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Measurement value as 0,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0115
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0115
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_measurement=[0]
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/reason_code            "700-212"
    Json Value Should Equal     ${body}     /errors/0/reason_desc            "Invalid Measurement Datasource."
    [Tags]


PAC1.6.5_TC_11.6_Update_parent_adgroup (Measurement: any valid value from 1 to 17 - Allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Measurement any valid value from 1 to 17,
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0116
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0116
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_measurement=[5]
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_11.7_Update_parent_adgroup (Measurement: any negative value - Don't Allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Measurement negative value,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0117
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0117
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_measurement=[-1]
    ...    updated_response_code=400
    ...    updated_success=false
    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/reason_code            "700-212"
    Json Value Should Equal     ${body}     /errors/0/reason_desc            "Invalid Measurement Datasource."
    [Tags]

#--------------------------------------------------------------------------------------------------------------------------------------------
PAC1.6.5_TC_12.1_Update_parent_adgroup (Data Partner: blank - Don't Allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for blank Data Partner,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0121
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0121
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_datapartner=""
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}     /reason_code                "400-999"
    Json Value Should Equal     ${body}     /reason_desc                "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field             "datapartner"
    Json Value Should Equal     ${body}     /errors/0/reason_desc       "Datapartner Id cannot be null."
    [Tags]     # Known_bug       CM-1660


PAC1.6.5_TC_12.2_Update_parent_adgroup (Data Partner: Missing - Don't Allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Missing Data Partner,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0122
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0122
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_datapartner=MISSING
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}            /reason_code            "400-001"
    Json Value Should Equal     ${body}            /reason_desc            "Invalid Request."
    [Tags]


PAC1.6.5_TC_12.3_Update_parent_adgroup (Data Partner: null if passed and same found in JSON response, then it is accepted)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Data Partner as null value,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0123
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0123
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_datapartner=null
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}     /reason_code                "400-999"
    Json Value Should Equal     ${body}     /reason_desc                "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field             "datapartner"
    Json Value Should Equal     ${body}     /errors/0/reason_desc       "Datapartner Id cannot be null."
    [Tags]


PAC1.6.5_TC_12.4_Update_parent_adgroup (Data Partner: 999, does not exist)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Data Partner value 999,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0124
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0124
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_datapartner=999
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal       ${body}      /reason_code             "400-999"
    Json Value Should Equal       ${body}      /reason_desc             "Validation Failure"
    Json Value Should Equal       ${body}      /errors/0/reason_code    "700-211"
    Json Value Should Equal       ${body}      /errors/0/reason_desc    "Invalid Partner Datasource."
    [Tags]


PAC1.6.5_TC_12.5_Update_parent_adgroup (Data Partner: 0, does not exist)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Data Partner value 0,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0125
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0125
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_datapartner=0
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal       ${body}      /reason_code             "400-999"
    Json Value Should Equal       ${body}      /reason_desc             "Validation Failure"
    Json Value Should Equal       ${body}      /errors/0/reason_code    "700-211"
    Json Value Should Equal       ${body}      /errors/0/reason_desc    "Invalid Partner Datasource."
    [Tags]


PAC1.6.5_TC_12.6_Update_parent_adgroup (Data Partner: any valid value from 1 to 20, Accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Data Partner any valid value from 1 to 20,
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0126
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0126
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_datapartner=6
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]

#--------------------------------------------------------------------------------------------------------------------------------------------
PAC1.6.5_TC_13.1_Update_parent_adgroup (viewability: blank, does not exist)
    [Documentation]     Input:          Use API to Update Parent Adgroup for blank Viewability,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0131
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0131
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_viewability={${Empty}}
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal   ${body}   /reason_code            "400-999"
    Json Value Should Equal   ${body}   /reason_desc            "Validation Failure"
    Json Value Should Equal   ${body}   /errors/0/field         "viewability.requirementType"
    Json Value Should Equal   ${body}   /errors/0/reason_desc   "Customer Requirement Type cannot be null."
    [Tags]


PAC1.6.5_TC_13.2_Update_parent_adgroup (viewability: Missing, not accepted)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Missing Viewability,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0132
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API       response_parent_name=PAC_regression_parent_165_0132
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_viewability={MISSING}
    ...    updated_response_code=200
    ...    updated_success=true

    # ...    updated_response_code=400
    # ...    updated_success=false
    # # response_code is 400 hence get reason code and reason description
    # Json Value Should Equal     ${body}            /reason_code            "400-001"
    # Json Value Should Equal     ${body}            /reason_desc            "Invalid Request."
    [Tags]


PAC1.6.5_TC_13.3_Update_parent_adgroup (viewability: null, valid)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Viewability as null value,
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0133
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0133
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_viewability=null
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]          # Known_bug   CM-479


PAC1.6.5_TC_13.4_Update_parent_adgroup (viewability: Missing field extrapolate, valid)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Viewability if Extrapolate is missing,
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Set Test Variable   ${response_parent_viewability}   {"requirementType":2,"measurableGoal":0.85,"viewableGoal":0.8,"viPercentage":0.7}

    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0134
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0134
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_viewability=${response_parent_viewability}
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]           #Known_bug   CM-479


PAC1.6.5_TC_13.5_Update_parent_adgroup (viewability: Customer Requirement as Viewable Impressions, Valid)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Viewability if Viewable Impressions option is selected,
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    ...                 Note :          Here if we select option Customer Requirement as Viewable Impressions,
    ...                                 only option % of viewable impressions (of IO) should be passed.
    Set Test Variable   ${response_parent_viewability}   {"requirementType":1,"measurableGoal":0.7,"viewableGoal":0.6,"viPercentage":0.7, "extrapolate":false}

    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0135
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0135
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_viewability=${response_parent_viewability}
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]            #Known_bug   CM-479


PAC1.6.5_TC_13.6_Update_parent_adgroup (viewability: Customer Requirement as Viewable Impressions percentage less than 1, Invalid)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Viewability if Viewable Impressions option is selected,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Get Start Date
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0136
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Set Test Variable   ${response_parent_viewability}   {"requirementType":1,"viPercentage":-1,"measurableGoal":0,"viewableGoal":0,"extrapolate":false}

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0136
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_viewability=${response_parent_viewability}
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}     /reason_code                "400-999"
    Json Value Should Equal     ${body}     /reason_desc                "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/reason_code       "700-808"
    Json Value Should Equal     ${body}     /errors/0/field             "viewability"
    Json Value Should Equal     ${body}     /errors/0/reason_desc       "The Viewability Percentages must be between 1 and 100."
    [Tags]     #  Known_bug     CM-1805    #   CM-479


PAC1.6.5_TC_13.7_Update_parent_adgroup (viewability: Customer Requirement as Viewable Impressions, Missing Extrapolate, valid)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Viewability if Viewable Impressions option is selected,
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Set Test Variable   ${response_parent_viewability}   {"requirementType":1,"viPercentage":0.75,"measurableGoal":0.7,"viewableGoal":0.6}

    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0137
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0137
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_viewability=${response_parent_viewability}
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]        #Known_bug   CM-479


PAC1.6.5_TC_13.8_Update_parent_adgroup (viewability: Customer Requirement as Viewable Impressions, Missing viewable impressions percentage, Invalid)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Viewability if Viewable Impressions option is selected,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Set Test Variable   ${response_parent_viewability}   {"requirementType":1,"measurableGoal":0.7,"viewableGoal":0.6,"extrapolate":true}

    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0138
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0138
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_viewability=${response_parent_viewability}
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}     /reason_code                "400-999"
    Json Value Should Equal     ${body}     /reason_desc                "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/reason_code       "700-805"
    Json Value Should Equal     ${body}     /errors/0/field             "viewability"
    Json Value Should Equal     ${body}     /errors/0/reason_desc       "Invalid Viewability Parameters"
    [Tags]               #Known_bug   CM-479



PAC1.6.5_TC_13.9_Update_parent_adgroup (viewability: Customer Requirement as Viewable Impressions, Missing viewable impressions percentage and Missing extrapolate, Invalid)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Viewability if Customer Requirement as Viewable Impressions,
    ...                                 Missing viewable impressions percentage and Missing extrapolate,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Set Test Variable   ${response_parent_viewability}   {"requirementType":1,"measurableGoal":0.7,"viewableGoal":0.6}

    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0139
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0139
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_viewability=${response_parent_viewability}
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}     /reason_code                "400-999"
    Json Value Should Equal     ${body}     /reason_desc                "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/reason_code       "700-805"
    Json Value Should Equal     ${body}     /errors/0/field             "viewability"
    Json Value Should Equal     ${body}     /errors/0/reason_desc       "Invalid Viewability Parameters"
    [Tags]             #Known_bug   CM-479



PAC1.6.5_TC_13.10_Update_parent_adgroup (viewability: Customer Requirement as Viewable Impressions percentage greater than 100, Invalid)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Customer Requirement as Viewable Impressions percentage greater than 100,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_01310
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Set Test Variable   ${response_parent_viewability}   {"requirementType":1, "measurableGoal":0,"viewableGoal":0, "viPercentage":200, "extrapolate":false}

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_01310
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_viewability=${response_parent_viewability}
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}     /reason_code                "400-999"
    Json Value Should Equal     ${body}     /reason_desc                "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/reason_code       "700-808"
    Json Value Should Equal     ${body}     /errors/0/field             "viewability"
    Json Value Should Equal     ${body}     /errors/0/reason_desc       "The Viewability Percentages must be between 1 and 100."
    [Tags]       #     Known_bug     CM-1805   #   CM-479


PAC1.6.5_TC_13.11_Update_parent_adgroup (viewability: Customer Requirement as Measurable and Viewable Rates, Valid)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Customer Requirement as Measurable and Viewable Rates option is selected,
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Set Test Variable   ${response_parent_viewability}   {"requirementType":2, "measurableGoal":0.85,"viewableGoal":0.8,"viPercentage":0.7, "extrapolate":true}

    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_01311
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_01311
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_viewability=${response_parent_viewability}
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_13.12_Update_parent_adgroup (viewability: Customer Requirement as Measurable and Viewable Rates measurable Goal less than 0%, invalid)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Customer Requirement as Measurable and Viewable Rates option is selected,
    ...                                 If measurableGoal is less than 0%,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_01312
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Set Test Variable   ${response_parent_viewability}   {"requirementType":2, "measurableGoal":-0.0025,"viewableGoal":-0.008}

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_01312
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_viewability=${response_parent_viewability}
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "viewability"
    Json Value Should Equal     ${body}     /errors/0/reason_code   "700-808"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "The Viewability Percentages must be between 1 and 100."
    [Tags]         #  Known_bug   CM-479


PAC1.6.5_TC_13.13_Update_parent_adgroup (viewability: Customer Requirement as Measurable and Viewable Rates measurable Goal greater than 100%, invalid)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Customer Requirement as Measurable and Viewable Rates option is selected,
    ...                                 If measurableGoal is greater than 100%,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_01313
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Set Test Variable   ${response_parent_viewability}   {"requirementType":2, "measurableGoal":200,"viewableGoal":0.8}

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_01313
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_viewability=${response_parent_viewability}
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}     /reason_code                "400-999"
    Json Value Should Equal     ${body}     /reason_desc                "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/reason_code       "700-808"
    Json Value Should Equal     ${body}     /errors/0/field             "viewability"
    Json Value Should Equal     ${body}     /errors/0/reason_desc       "The Viewability Percentages must be between 1 and 100."
    [Tags]           #  Known_bug   CM-479


PAC1.6.5_TC_13.14_Update_parent_adgroup (viewability: Customer Requirement as Measurable and Viewable Rates viewable Goal less than 0%, invalid)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Customer Requirement as Measurable and Viewable Rates option is selected,
    ...                                 If viewableGoal is less than 0%,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_01314
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Set Test Variable   ${response_parent_viewability}   {"requirementType":2, "measurableGoal":0.7,"viewableGoal":-0.003}

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_01314
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_viewability=${response_parent_viewability}
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}     /reason_code                "400-999"
    Json Value Should Equal     ${body}     /reason_desc                "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/reason_code       "700-808"
    Json Value Should Equal     ${body}     /errors/0/field             "viewability"
    Json Value Should Equal     ${body}     /errors/0/reason_desc       "The Viewability Percentages must be between 1 and 100."
    [Tags]             #  Known_bug   CM-479


PAC1.6.5_TC_13.15_Update_parent_adgroup (viewability: Customer Requirement as Measurable and Viewable Rates viewableGoal greater than 100%, invalid)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Customer Requirement as Measurable and Viewable Rates option is selected,
    ...                                 If viewableGoal is greater than 100%,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_01315
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Set Test Variable   ${response_parent_viewability}   {"requirementType":2, "measurableGoal":0.7,"viewableGoal":300}

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_01315
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_viewability=${response_parent_viewability}
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}     /reason_code                "400-999"
    Json Value Should Equal     ${body}     /reason_desc                "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/reason_code       "700-808"
    Json Value Should Equal     ${body}     /errors/0/field             "viewability"
    Json Value Should Equal     ${body}     /errors/0/reason_desc       "The Viewability Percentages must be between 1 and 100."
    [Tags]             #  Known_bug   CM-479


PAC1.6.5_TC_13.16_Update_parent_adgroup (viewability: Customer Requirement as Measurable and Viewable Rates, Missing viewableGoal, invalid)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Customer Requirement as Measurable and Viewable Rates, Missing viewableGoals,
    ...                                 If viewableGoal is greater than 100%,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_01316
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Set Test Variable   ${response_parent_viewability}   {"requirementType":2, "measurableGoal":0.7,"viPercentage":null, "extrapolate":true}

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_01316
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_viewability=${response_parent_viewability}
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}     /reason_code                "400-999"
    Json Value Should Equal     ${body}     /reason_desc                "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/reason_code       "700-805"
    Json Value Should Equal     ${body}     /errors/0/field             "viewability"
    Json Value Should Equal     ${body}     /errors/0/reason_desc       "Invalid Viewability Parameters"
    [Tags]           #   Known_bug   CM-479


PAC1.6.5_TC_13.17_Update_parent_adgroup (viewability: Customer Requirement as Measurable and Viewable Rates, Missing measurableGoal, invalid)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Customer Requirement as Measurable and Viewable Rates, Missing measurableGoal,
    ...                                 If viewableGoal is greater than 100%,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_01317
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Set Test Variable   ${response_parent_viewability}   {"requirementType":2, "viewableGoal":0.8}

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_01317
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_viewability=${response_parent_viewability}
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}     /reason_code                "400-999"
    Json Value Should Equal     ${body}     /reason_desc                "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/reason_code       "700-805"
    Json Value Should Equal     ${body}     /errors/0/field             "viewability"
    Json Value Should Equal     ${body}     /errors/0/reason_desc       "Invalid Viewability Parameters"
    [Tags]


PAC1.6.5_TC_13.18_Update_parent_adgroup (viewability: Customer Requirement as Custom, invalid)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Custom option is selected,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_01318
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Set Test Variable   ${response_parent_viewability}   {"requirementType":3, "measurableGoal":0.85,"viewableGoal":0.8,"viPercentage":null}

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_01318
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_viewability=${response_parent_viewability}
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}     /reason_code                "400-999"
    Json Value Should Equal     ${body}     /reason_desc                "Validation Failure"
    #Json Value Should Equal     ${body}     /errors/0/reason_code       "700-807"
    Json Value Should Equal     ${body}     /errors/0/field             "viewability"
    Json Value Should Equal     ${body}     /errors/0/reason_desc       "Customer Requirement Type must be between 0 and 2."   #  "Mandatory Viewability Parameters are null or missing"
    [Tags]       EXCLUDE  # exclude reason - Requirement type is 0 to 2      #   Known_bug   CM-479



PAC1.6.5_TC_13.19_Update_parent_adgroup (viewability: Customer Requirement as Custom, If measurable Goal is less than 1%, Invalid)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Custom option is selected,
    ...                                 If measurableGoal is less than 1%,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_01319
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Set Test Variable   ${response_parent_viewability}   {"requirementType":3, "measurableGoal":0.0035,"viewableGoal":0.8,"viPercentage":0.7}

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_01319
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_viewability=${response_parent_viewability}
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}     /reason_code                "400-999"
    Json Value Should Equal     ${body}     /reason_desc                "Validation Failure"
    #Json Value Should Equal     ${body}     /errors/0/reason_code       "700-808"
    Json Value Should Equal     ${body}     /errors/0/field             "viewability"
    Json Value Should Equal     ${body}     /errors/0/reason_desc       "Customer Requirement Type must be between 0 and 2."   #  "The Viewability Percentages must be between 1 and 100."
    [Tags]          EXCLUDE  # exclude reason - Requirement type is 0 to 2      #Known_bug   CM-479


PAC1.6.5_TC_13.20_Update_parent_adgroup (viewability: Customer Requirement as Custom, If measurableGoal is greater than 100%, Invalid)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Custom option is selected,
    ...                                 If measurableGoal is greater than 100%,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_01320
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Set Test Variable   ${response_parent_viewability}   {"requirementType":3, "measurableGoal":3000,"viewableGoal":0.8,"viPercentage":0.7}

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_01320
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_viewability=${response_parent_viewability}
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}     /reason_code                "400-999"
    Json Value Should Equal     ${body}     /reason_desc                "Validation Failure"
    #Json Value Should Equal     ${body}     /errors/0/reason_code       "700-808"
    Json Value Should Equal     ${body}     /errors/0/field             "viewability"
    Json Value Should Equal     ${body}     /errors/0/reason_desc       "Customer Requirement Type must be between 0 and 2."   #  "The Viewability Percentages must be between 1 and 100."
    [Tags]         EXCLUDE  # exclude reason - Requirement type is 0 to 2       #Known_bug   CM-479


PAC1.6.5_TC_13.21_Update_parent_adgroup (viewability: Customer Requirement as Custom, If viewableGoal is less than 1%, Invalid)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Custom option is selected,
    ...                                 If viewableGoal is less than 1%,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_01321
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Set Test Variable   ${response_parent_viewability}   {"requirementType":3, "measurableGoal":0.7,"viewableGoal":0.003,"viPercentage":0.7}

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_01321
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_viewability=${response_parent_viewability}
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}     /reason_code                "400-999"
    Json Value Should Equal     ${body}     /reason_desc                "Validation Failure"
    #Json Value Should Equal     ${body}     /errors/0/reason_code       "700-808"
    Json Value Should Equal     ${body}     /errors/0/field             "viewability"
    Json Value Should Equal     ${body}     /errors/0/reason_desc       "Customer Requirement Type must be between 0 and 2."   #  "The Viewability Percentages must be between 1 and 100."
    [Tags]         EXCLUDE  # exclude reason - Requirement type is 0 to 2      #Known_bug   CM-479


PAC1.6.5_TC_13.22_Update_parent_adgroup (viewability: Customer Requirement as Custom, If viewableGoal is greater than 100%, Invalid)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Custom option is selected,
    ...                                 If viewableGoal is greater than 100%,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_01322
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Set Test Variable   ${response_parent_viewability}   {"requirementType":3, "measurableGoal":0.6,"viewableGoal":3500,"viPercentage":0.7}

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_01322
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_viewability=${response_parent_viewability}
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}     /reason_code                "400-999"
    Json Value Should Equal     ${body}     /reason_desc                "Validation Failure"
    #Json Value Should Equal     ${body}     /errors/0/reason_code       "700-808"
    Json Value Should Equal     ${body}     /errors/0/field             "viewability"
    Json Value Should Equal     ${body}     /errors/0/reason_desc       "Customer Requirement Type must be between 0 and 2."   #  "The Viewability Percentages must be between 1 and 100."
    [Tags]        EXCLUDE  # exclude reason - Requirement type is 0 to 2      #Known_bug   CM-479


PAC1.6.5_TC_13.23_Update_parent_adgroup (viewability: Customer Requirement as Custom, If viPercentage is less than 1%, Invalid)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Custom option is selected,
    ...                                 If viPercentage is less than 1%,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_01323
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Set Test Variable   ${response_parent_viewability}   {"requirementType":3, "measurableGoal":0.7,"viewableGoal":0.8,"viPercentage":0.002}

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_01323
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_viewability=${response_parent_viewability}
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}     /reason_code                "400-999"
    Json Value Should Equal     ${body}     /reason_desc                "Validation Failure"
    #Json Value Should Equal     ${body}     /errors/0/reason_code       "700-808"
    Json Value Should Equal     ${body}     /errors/0/field             "viewability"
    Json Value Should Equal     ${body}     /errors/0/reason_desc       "Customer Requirement Type must be between 0 and 2."   #  "The Viewability Percentages must be between 1 and 100."
    [Tags]        EXCLUDE  # exclude reason - Requirement type is 0 to 2      #Known_bug   CM-479


PAC1.6.5_TC_13.24_Update_parent_adgroup (viewability: Customer Requirement as Custom, If viPercentage is greater than 100%, Invalid)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Custom option is selected,
    ...                                 If viPercentage is greater than 100%,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_01324
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Set Test Variable   ${response_parent_viewability}   {"requirementType":3, "measurableGoal":0.6,"viewableGoal":0.8,"viPercentage":7000}

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_01324
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_viewability=${response_parent_viewability}
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}     /reason_code                "400-999"
    Json Value Should Equal     ${body}     /reason_desc                "Validation Failure"
    #Json Value Should Equal     ${body}     /errors/0/reason_code       "700-808"
    Json Value Should Equal     ${body}     /errors/0/field             "viewability"
    Json Value Should Equal     ${body}     /errors/0/reason_desc       "Customer Requirement Type must be between 0 and 2."   #  "The Viewability Percentages must be between 1 and 100."
    [Tags]        EXCLUDE  # exclude reason - Requirement type is 0 to 2     #Known_bug   CM-479


PAC1.6.5_TC_13.25_Update_parent_adgroup (viewability: Customer Requirement as Custom, If viPercentage is missing, Invalid)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Custom option is selected,
    ...                                 If viPercentage missing,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_01325
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Set Test Variable   ${response_parent_viewability}   {"requirementType":3, "measurableGoal":0.6,"viewableGoal":0.8}

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_01325
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_viewability=${response_parent_viewability}
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}     /reason_code                "400-999"
    Json Value Should Equal     ${body}     /reason_desc                "Validation Failure"
    #Json Value Should Equal     ${body}     /errors/0/reason_code       "700-807"
    Json Value Should Equal     ${body}     /errors/0/field             "viewability"
    Json Value Should Equal     ${body}     /errors/0/reason_desc       "Customer Requirement Type must be between 0 and 2."   #  "Mandatory Viewability Parameters are null or missing"
    [Tags]       EXCLUDE  # exclude reason - Requirement type is 0 to 2    #Known_bug   CM-479


PAC1.6.5_TC_13.26_Update_parent_adgroup (viewability: Customer Requirement as Custom, If viewableGoal is missing, Invalid)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Custom option is selected,
    ...                                 If viewableGoal missing,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_01326
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Set Test Variable   ${response_parent_viewability}   {"requirementType":3, "measurableGoal":0.6,"viPercentage":0.8}

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_01326
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_viewability=${response_parent_viewability}
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}     /reason_code                "400-999"
    Json Value Should Equal     ${body}     /reason_desc                "Validation Failure"
    #Json Value Should Equal     ${body}     /errors/0/reason_code       "700-807"
    Json Value Should Equal     ${body}     /errors/0/field             "viewability"
    Json Value Should Equal     ${body}     /errors/0/reason_desc       "Customer Requirement Type must be between 0 and 2."   #  "Mandatory Viewability Parameters are null or missing"
    [Tags]       EXCLUDE  # exclude reason - Requirement type is 0 to 2     #Known_bug   CM-479


PAC1.6.5_TC_13.27_Update_parent_adgroup (viewability: Customer Requirement as Custom, If measurableGoal is missing, Invalid)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Custom option is selected,
    ...                                 If measurableGoal missing,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_01327
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Set Test Variable   ${response_parent_viewability}   {"requirementType":3, "viewableGoal":0.7,"viPercentage":0.8}

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_01327
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_viewability=${response_parent_viewability}
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}     /reason_code                "400-999"
    Json Value Should Equal     ${body}     /reason_desc                "Validation Failure"
    #Json Value Should Equal     ${body}     /errors/0/reason_code       "700-807"
    Json Value Should Equal     ${body}     /errors/0/field             "viewability"
    Json Value Should Equal     ${body}     /errors/0/reason_desc       "Customer Requirement Type must be between 0 and 2."   #  "Mandatory Viewability Parameters are null or missing"
    [Tags]     EXCLUDE  # exclude reason - Requirement type is 0 to 2    #Known_bug   CM-479


PAC1.6.5_TC_13.28_Update_parent_adgroup (viewability: Customer Requirement as Custom, If extrapolate is missing, Invalid)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Custom option is selected,
    ...                                 If extrapolate missing,
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_01328
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Set Test Variable   ${response_parent_viewability}   {"requirementType":3, "measurableGoal":0.6,"viewableGoal":0.7,"viPercentage":0.8}

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_01328
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_viewability=${response_parent_viewability}
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]      EXCLUDE  # exclude reason - Requirement type is 0 to 2    #  Known_bug   CM-479


PAC1.6.5_TC_13.29_Update_parent_adgroup (viewability: Customer Requirement as Custom, If extrapolate is missing, Invalid)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Customer Requirement type null,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_01329
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Set Test Variable   ${response_parent_viewability}   {"requirementType":null, "measurableGoal":0.7,"viewableGoal":0.7,"viPercentage":0.8, "extrapolate":true}

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_01329
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_viewability=${response_parent_viewability}
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}     /reason_code                "400-999"
    Json Value Should Equal     ${body}     /reason_desc                "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field             "viewability.requirementType"
    Json Value Should Equal     ${body}     /errors/0/reason_desc       "Customer Requirement Type cannot be null."
    [Tags]           # Known_bug   CM-479


PAC1.6.5_TC_13.30_Update_parent_adgroup (viewability: Customer Requirement type negative value, invalid)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Customer Requirement type any negative value (e.g. -5),
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_01330
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Set Test Variable   ${response_parent_viewability}   {"requirementType":-5, "measurableGoal":0.7,"viewableGoal":0.7,"viPercentage":0.8, "extrapolate":true}

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_01330
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_viewability=${response_parent_viewability}
    ...    updated_response_code=400
    ...    updated_success=false
    Json Value Should Equal     ${body}     /reason_code                "400-999"
    Json Value Should Equal     ${body}     /reason_desc                "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field             "viewability.requirementType"
    Json Value Should Equal     ${body}     /errors/0/reason_desc       "Customer Requirement Type must be between 0 and 2."
    [Tags]        #   Known_bug   CM-479


PAC1.6.5_TC_13.31_Update_parent_adgroup (viewability: Customer Requirement type apart from 1, 2, 3, invalid)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Customer Requirement type apart from 1, 2, 3,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_01331
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Set Test Variable   ${response_parent_viewability}   {"requirementType":5, "measurableGoal":0.7,"viewableGoal":0.7,"viPercentage":0.8, "extrapolate":true}

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_01331
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_viewability=${response_parent_viewability}
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}     /reason_code                "400-999"
    Json Value Should Equal     ${body}     /reason_desc                "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field             "viewability.requirementType"
    Json Value Should Equal     ${body}     /errors/0/reason_desc       "Customer Requirement Type must be between 0 and 2."
    [Tags]           #   Known_bug   CM-479


#--------------------------------------------------------------------------------------------------------------------------------------------
##daily cap enabled(db)
##frequency cap days default to 1
##NULL is being used in DB when the field is not used
PAC1.6.5_TC_14.1_Update_parent_adgroup (Household Frequency Cap Daily: 0 treat as null, 1day - Accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Household Frequency Cap Show no more than as 0 time(s) per 1 day(s),
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0141
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0141
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_hh_daily=0
    ...    response_parent_hh_days=1
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_14.2_Update_parent_adgroup (Household Frequency Cap Daily: null, 1day - Accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Household Frequency Cap Show no more than as null time(s) per 1 day(s),
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0142
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0142
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_hh_daily=null
    ...    response_parent_hh_days=1
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]       # Known_bug   CM-479


PAC1.6.5_TC_14.3_Update_parent_adgroup (Household Frequency Cap Daily: null, per day null - Accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Household Frequency Cap Show no more than as 0 time(s) per 1 day(s),
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0143
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0143
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_hh_daily=null
    ...    response_parent_hh_days=null
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_14.4_Update_parent_adgroup (Household Frequency Cap Daily: 3, 1day - Accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for  Household Frequency Cap Show no more than as 3 time(s) per 1 day(s),
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0144
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0144
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_hh_daily=3
    ...    response_parent_hh_days=1
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_14.5_Update_parent_adgroup (Household Frequency Cap Daily: 30, 10days - Accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Household Frequency Cap Show no more than as 30 time(s) per 10 day(s),
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0145
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0145
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_hh_daily=30
    ...    response_parent_hh_days=10
    ...    updated_response_code=200
    ...    updated_success=true


PAC1.6.5_TC_14.6_Update_parent_adgroup (Household Frequency Cap Daily: 30, 0days - Accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Household Frequency Cap Show no more than as 30 time(s) per 0 day(s),
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0146
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0146
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_hh_daily=30
    ...    response_parent_hh_days=0
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_14.7_Update_parent_adgroup (Household Frequency Cap Daily: blank, blank - invalid json)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Household Frequency Cap Show no more than as blank time(s) per blank day(s),
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0147
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0147
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_hh_daily=${Empty}
    ...    response_parent_hh_days=${Empty}
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}            /reason_code            "400-001"
    Json Value Should Equal     ${body}            /reason_desc             "Invalid Request."
    [Tags]


PAC1.6.5_TC_14.8_Update_parent_adgroup (Household Frequency Cap Daily: 30, missing - Don't allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Household Frequency Cap Show no more than as 30 time(s) and per day(s) is missing,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0148
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0148
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_hh_daily=30
    ...    response_parent_hh_days=MISSING
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}            /reason_code            "400-999"
    Json Value Should Equal     ${body}            /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}         /errors/0/field             "hhFcDays"
    Json Value Should Equal     ${body}         /errors/0/reason_code       "700-806"
    Json Value Should Equal     ${body}         /errors/0/reason_desc       "Invalid Frequency Cap."
    [Tags]       #Known_bug       CM-389


PAC1.6.5_TC_14.9_Update_parent_adgroup (Household Frequency Cap Daily: missing, missing - Don't allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Household Frequency Cap Show no more than as time(s) is missing and per day(s) is missing,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0149
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0149
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_hh_daily=MISSING
    ...    response_parent_hh_days=MISSING
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}            /reason_code            "400-001"
    Json Value Should Equal     ${body}            /reason_desc             "Invalid Request."
    [Tags]

#--------------------------------------------------------------------------------------------------------------------------------------------
##Validation of parameter such as negative integer, alphabet will be done by UI.
PAC1.6.5_TC_15.1_Update_parent_adgroup (Household Frequency Cap (overall): 3 - Accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Household Frequency Cap overall
    ...    show no more than 3 time(s) for the duration,
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0151
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0151
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_hh_overall=3
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_15.2_Update_parent_adgroup (Household Frequency Cap (overall): null - Accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Household Frequency Cap overall
    ...    show no more than 3 time(s) for the duration,
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0152
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0152
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_hh_overall=null
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_15.3_Update_parent_adgroup (Household Frequency Cap (overall): blank - invalid json)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Household Frequency Cap overall
    ...    show no more than time(s) for the duration as blank value,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0153
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0153
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_hh_overall=${Empty}
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}            /reason_code            "400-001"
    Json Value Should Equal     ${body}            /reason_desc             "Invalid Request."
    [Tags]


PAC1.6.5_TC_15.4_Update_parent_adgroup (Household Frequency Cap (overall): Missing - invalid json)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Household Frequency Cap overall
    ...    show no more than time(s) for the duration as blank value,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0154
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0154
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_hh_overall=MISSING
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}            /reason_code            "400-001"
    Json Value Should Equal     ${body}            /reason_desc             "Invalid Request."
    [Tags]

#--------------------------------------------------------------------------------------------------------------------------------------------
##daily cap enabled(db)
##frequency cap days default to 1
##NULL is being used in DB when the field is not used
PAC1.6.5_TC_16.1_Update_parent_adgroup (Device Frequency Cap Daily: 0 treat as null, 1day - Accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Device Frequency Cap Show no more than as 0 time(s) per 1 day(s),
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0161
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0161
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_device_daily=0
    ...    response_parent_device_days=1
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]



PAC1.6.5_TC_16.2_Update_parent_adgroup (Device Frequency Cap Daily: null, 1day - Don't Accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Device Frequency Cap Show no more than as null time(s) per 1 day(s),
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0162
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0162
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_device_daily=null
    ...    response_parent_device_days=1
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]        # Known_bug   CM-479


PAC1.6.5_TC_16.3_Update_parent_adgroup (Device Frequency Cap Daily: null, null daily - Accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Device Frequency Cap Show no more than as null time(s) per day(s) null,
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0163
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0163
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_device_daily=null
    ...    response_parent_device_days=null
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_16.4_Update_parent_adgroup (Device Frequency Cap Daily: 3, 1day - Accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Device Frequency Cap Show no more than as 3 time(s) per 1 day(s),
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0164
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0164
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_device_daily=3
    ...    response_parent_device_days=1
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_16.5_Update_parent_adgroup (Device Frequency Cap Daily: 30, 10 days - Accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Device Frequency Cap Show no more than as 30 time(s) per 10 day(s),
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0165
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0165
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_device_daily=30
    ...    response_parent_device_days=10
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_16.6_Update_parent_adgroup (Device Frequency Cap Daily: 30, 0 days - Accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Device Frequency Cap Show no more than as 30 time(s) per 0 day(s),
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0166
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0166
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_device_daily=30
    ...    response_parent_device_days=0
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_16.7_Update_parent_adgroup (Device Frequency Cap Daily: blank, blank - invalid json)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Device Frequency Cap Show no more than as blank time(s) per blank day(s),
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0167
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0167
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_device_daily=${Empty}
    ...    response_parent_device_days=${Empty}
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}            /reason_code            "400-001"
    Json Value Should Equal     ${body}            /reason_desc             "Invalid Request."
    [Tags]


PAC1.6.5_TC_16.8_Update_parent_adgroup (Device Frequency Cap Daily: 30, missing - Don't allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Device Frequency Cap Show no more than as 30 time(s) when per day(s) is missing,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0168
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0168
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_device_daily=30
    ...    response_parent_device_days=MISSING
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}            /reason_code            "400-001"
    Json Value Should Equal     ${body}            /reason_desc             "Invalid Request."
    [Tags]


PAC1.6.5_TC_16.9_Update_parent_adgroup (Device Frequency Cap Daily: missing, missing - Don't allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Device Frequency Cap Show no more than time(s) is MISSING and per day(s) is missing,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0169
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0169
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_device_daily=MISSING
    ...    response_parent_device_days=MISSING
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}            /reason_code            "400-001"
    Json Value Should Equal     ${body}            /reason_desc             "Invalid Request."
    [Tags]

#--------------------------------------------------------------------------------------------------------------------------------------------
##Validation of parameter such as negative integer, alphabet will be done by UI.
PAC1.6.5_TC_17.1_Update_parent_adgroup (Device Frequency Cap Overall: 3, Accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Device Frequency Cap Overall Show no more than as 3 time(s) for the duration
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0171
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0171
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_device_overall=3
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_17.2_Update_parent_adgroup (Device Frequency Cap Overall: null, Accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Device Frequency Cap Overall Show no more than as time(s)
    ...                                 for the duration is null value,
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0172
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0172
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_device_overall=null
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_17.3_Update_parent_adgroup (Device Frequency Cap Overall: blank - invalid json)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Device Frequency Cap Overall Show no more
    ...                                 than as time(s) for the duration is blank,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0173
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0173
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_device_overall=${Empty}
    ...    updated_response_code=400
    ...    updated_success=false
    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}            /reason_code            "400-001"
    Json Value Should Equal     ${body}            /reason_desc             "Invalid Request."
    [Tags]


PAC1.6.5_TC_17.4_Update_parent_adgroup (Device Frequency Cap Overall: Missing - Don't allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Device Frequency Cap Overall
    ...    show no more than as time(s) for the duration is missing
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0174
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0174
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_device_overall=MISSING
    ...    updated_response_code=400
    ...    updated_success=false
    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}            /reason_code            "400-001"
    Json Value Should Equal     ${body}            /reason_desc             "Invalid Request."
    [Tags]

#--------------------------------------------------------------------------------------------------------------------------------------------
##daily cap enabled(db)
##frequency cap days default to 1
##NULL is being used in DB when the field is not used
PAC1.6.5_TC_18.1_Update_parent_adgroup (IP Frequency Cap Daily: 0 treat as null, times per days = 1day - Accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for IP Frequency Cap Daily
    ...    show no more than as 0 time(s) per 1 day(s),
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0181
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0181
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ip_fc_daily=0
    ...    response_parent_ip_fc_days=1
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_18.2_Update_parent_adgroup (IP Frequency Cap Daily: null, times per days = 1day - Don't Accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for IP Frequency Cap Daily
    ...    show no more than as null value and time(s) per 1 day(s),
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0182
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0182
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ip_fc_daily=null
    ...    response_parent_ip_fc_days=1
    ...                                updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_18.3_Update_parent_adgroup (IP Frequency Cap Daily: null, times per days = null - Accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for IP Frequency Cap Daily
    ...    show no more than as null value and time(s) per 1 day(s),
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0183
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0183
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ip_fc_daily=null
    ...    response_parent_ip_fc_days=null
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_18.4_Update_parent_adgroup (IP Frequency Cap Daily: 3, times per days = 1day - Accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for IP Frequency Cap Daily
    ...    show no more than as 3 value and time(s) per 1 day(s),
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0184
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0184
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ip_fc_daily=3
    ...    response_parent_ip_fc_days=1
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_18.5_Update_parent_adgroup (IP Frequency Cap Daily: 30, times per days = 10 days - Accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for IP Frequency Cap Daily
    ...    show no more than as 30 value and time(s) per 10 day(s),
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0185
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true
    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0185
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ip_fc_daily=30
    ...    response_parent_ip_fc_days=10
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_18.6_Update_parent_adgroup (IP Frequency Cap Daily: 30, times per days = 0 days - Accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for IP Frequency Cap Daily
    ...    show no more than as 30 and time(s) per 0 day(s),
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0186
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0186
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ip_fc_daily=30
    ...    response_parent_ip_fc_days=0
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_18.7_Update_parent_adgroup (IP Frequency Cap Daily: blank, times per days = blank - invalid json)
    [Documentation]     Input:          Use API to Update Parent Adgroup for IP Frequency Daily Cap
    ...    show no more than as blank value and time(s) per day(s) as blank value,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0187
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0187
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ip_fc_daily=${Empty}
    ...    response_parent_ip_fc_days=${Empty}
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}            /reason_code            "400-001"
    Json Value Should Equal     ${body}            /reason_desc            "Invalid Request."
    [Tags]


PAC1.6.5_TC_18.8_Update_parent_adgroup (IP Frequency Cap Daily: 30, times per days = missing - Don't allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for IP Frequency Cap
    ...    show no more than as 30 and time(s) per day(s) as missing value,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0188
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0188
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ip_fc_daily=30
    ...    response_parent_ip_fc_days=MISSING
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}            /reason_code            "400-999"
    Json Value Should Equal     ${body}            /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}         /errors/0/field             "ipFcDays"
    Json Value Should Equal     ${body}         /errors/0/reason_code       "700-806"
    Json Value Should Equal     ${body}         /errors/0/reason_desc       "Invalid Frequency Cap."
    [Tags]      #Known_bug   CM-389


PAC1.6.5_TC_18.9_Update_parent_adgroup (IP Frequency Cap Daily: missing, times per days = missing - Don't allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for IP Frequency Cap
    ...    show no more than as missing value and time(s) per day(s) as missing value,
    ...                 Expected:       API should internally convert IP frequency cap daily to null value
    ...                                 and times per days equal to 1 and
    ...                                 allow to update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0189
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0189
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ip_fc_daily=MISSING
    ...    response_parent_ip_fc_days=MISSING
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]  #Known_bug   CM-389

#--------------------------------------------------------------------------------------------------------------------------------------------
##Validation of parameter such as negative integer, alphabet will be done by UI.
PAC1.6.5_TC_19.1_Update_parent_adgroup (IP Frequency Cap Overall: 3, Accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for IP Frequency Cap Show no more than as 3 time(s) for the duration,
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0191
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0191
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ip_fc_overall=3
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]



PAC1.6.5_TC_19.2_Update_parent_adgroup (IP Frequency Cap Overall: null, Accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for IP Frequency Cap Show no more than as null time(s) for the duration,
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0192
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0192
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ip_fc_overall=null
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_19.3_Update_parent_adgroup (IP Frequency Cap Overall: blank - invalid json)
    [Documentation]     Input:          Use API to Update Parent Adgroup for IP Frequency Cap Overall
    ...    show no more than as time(s) for the duration as blank,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0193
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0193
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ip_fc_overall=${Empty}
    ...    updated_response_code=400
    ...    updated_success=false
    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}            /reason_code            "400-001"
    Json Value Should Equal     ${body}            /reason_desc            "Invalid Request."
    [Tags]


PAC1.6.5_TC_19.4_Update_parent_adgroup (IP Frequency Cap Overall: Missing, treat as null - allow)
    [Documentation]     Input:          Use API to Update Parent Adgroup for IP Frequency Cap Show no more than as time(s) for the duration is missing,
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0194
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0194
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_ip_fc_overall=null
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]

#--------------------------------------------------------------------------------------------------------------------------------------------
##Targeting HH
PAC1.6.5_TC_20.1_Update_parent_adgroup (Household Targeting: Boost=true, Accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Household Targeting, when value of Boost is true,
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_2001
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_2001
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_targeting_boost=true
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_20.2_Update_parent_adgroup (Household Targeting: Boost=false, Accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Household Targeting, when value of Boost is false,
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_2002
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_2002
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_targeting_boost=false
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_20.3_Update_parent_adgroup (Household Segments: exclude=true, Accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Household Targeting, when value of exclude is true,
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Set Test Variable                   ${parent_householdSegments}   {"group": [{"id": 3144, "score": -1, "exclude": false}]}

    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_2003
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_targeting_hh_segment=${parent_householdSegments}
    ...    response_code=200
    ...    success=true

    Set Test Variable    ${parent_householdSegments}   {"group": [{"id": 3144, "score": -1, "exclude": true}]}

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_2003
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_targeting_hh_segment=${parent_householdSegments}
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_20.4_Update_parent_adgroup (Household Segments: exclude=false, Accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Household Targeting, when value of exclude is true,
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Set Test Variable                   ${parent_householdSegments}   {"group": [{"id": 3144, "score": -1, "exclude": true}]}

    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_2004
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_targeting_hh_segment=${parent_householdSegments}
    ...    response_code=200
    ...    success=true

    Set Test Variable                   ${parent_householdSegments}   {"group": [{"id": 3144, "score": -1, "exclude": false}]}

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_2004
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_targeting_hh_segment=${parent_householdSegments}
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_20.5_Update_parent_adgroup (Household Segments: exclude=missing, It internally converts missing value with exclude=false. Accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Household Targeting, when value of exclude is true,
    ...                 Expected:       API should internally convert missing exclude to exclude=false and
    ...                                 allow to update a Parent adgroup successfully with response code 200.
    Set Test Variable                   ${parent_householdSegments}   {"group": [{"id": 3144, "score": -1}]}

    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_2005
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_targeting_hh_segment=${parent_householdSegments}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_2005
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_targeting_hh_segment=${parent_householdSegments}
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_20.6_Update_parent_adgroup (Household Segments: Score missing for NON NCS, accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Household Targeting, for non NCS, Score is missing,
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Set Test Variable                   ${parent_householdSegments}   {"group": [{"id":3144, "score": -1, "exclude": true}]}

    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_2006
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_targeting_hh_segment=${parent_householdSegments}
    ...    response_code=200
    ...    success=true

    Set Test Variable                   ${parent_householdSegments}   {"group": [{"id":3144, "exclude": true}]}

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_2006
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_targeting_hh_segment=${parent_householdSegments}
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]   EXCLUDE    Known_bug    CM-1577        # EXCLUDE reason as development won't fix this issue.


PAC1.6.5_TC_20.7_Update_parent_adgroup (Household Segments: Score missing NCS, accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Household Targeting, for NCS, if Score is missing,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Set Test Variable                   ${parent_householdSegments}   {"group": [{"id":0, "exclude": true}]}

    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_2007
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_2007
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_targeting_hh_segment=${parent_householdSegments}
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}         /reason_code                "400-999"
    Json Value Should Equal     ${body}         /reason_desc                "Validation Failure"
    Json Value Should Equal     ${body}         /errors/0/reason_code       "700-213"
    Json Value Should Equal     ${body}         /errors/0/reason_desc       "Invalid Household Targeting."
    [Tags]


PAC1.6.5_TC_20.8_Update_parent_adgroup (Household Segments: Score=1 for Non NCS, do not accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Household Targeting, for non NCS, if Score is positive value,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Set Test Variable                   ${parent_householdSegments}   {"group": [{"id":3255, "score":1}]}

    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_2008
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_2008
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_targeting_hh_segment=${parent_householdSegments}
    ...    updated_response_code=400
    ...    updated_success=false

    # response_code is 400 hence get reason code and reason description
    Json Value Should Equal     ${body}            /reason_code             "400-999"        #"700-213"
    Json Value Should Equal     ${body}            /reason_desc             "Validation Failure"
    Json Value Should Equal     ${body}         /errors/0/field             "3255 [score]"
    Json Value Should Equal     ${body}         /errors/0/reason_desc       "Invalid Household Targeting Score"
    [Tags]           #Known_bug       CM-614


PAC1.6.5_TC_20.9_Update_parent_adgroup (Household Segments Targeting: A + B, Accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Household Targeting, when value of exclude is true,
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_2009
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Set Test Variable                   ${parent_householdSegments}   {"group": [{"id": 3144, "score": -1, "exclude": true}, {"id": 3255, "score": -1}]}

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_2009
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_targeting_hh_segment=${parent_householdSegments}
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_20.10_Update_parent_adgroup (Household Segments Targeting: A or B, Accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Household Targeting, when value of exclude is true,
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Set Test Variable                   ${parent_householdSegments}   {"group": [{"id": 3144, "score": -1, "exclude": true}]}, {"group": [{"id": 2731, "score": -1}]}

    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_2010
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_2010
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_targeting_hh_segment=${parent_householdSegments}
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_20.11_Update_parent_adgroup (Household Segments: Missig ID, error)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Household Targeting, when ID is missing,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Set Test Variable                   ${parent_householdSegments}   {"group": [{"score": -1, "exclude": true}]}

    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_2011
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_2011
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_targeting_hh_segment=${parent_householdSegments}
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}            /reason_code            "400-999"
    Json Value Should Equal     ${body}            /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}   /errors/0/reason_code            "700-213"
    Json Value Should Equal     ${body}   /errors/0/reason_desc            "Invalid Household Targeting."
    [Tags]


PAC1.6.5_TC_20.12_Update_parent_adgroup (Household Segments: Blank, accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Household Targeting as blank value,
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_2012
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_2012
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_targeting_hh_segment=${Empty}
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]



PAC1.6.5_TC_20.13_Update_parent_adgroup (Household Segments: missing, valid JSON)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Household Targeting, when value of segment is missing,
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_2013
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_2013
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_targeting_hh_segment=MISSING
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]   #Known_bug       CM-384



PAC1.6.5_TC_20.15_Update_parent_adgroup (Household Segments: For NCS, Score is positive value, Accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Household Targeting, For NCS, Score is positive value,
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Set Test Variable                   ${parent_householdSegments}   {"group": [{"id": 3144, "score": -1, "exclude": false}]}

    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_2015
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_targeting_hh_segment=${parent_householdSegments}
    ...    response_code=200
    ...    success=true

    Set Test Variable                   ${parent_householdSegments}   {"group": [{"id": 956, "score": 1, "exclude": false}]}

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_2015
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_targeting_hh_segment=${parent_householdSegments}
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_20.16_Update_parent_adgroup (Household Segments: For NCS, Score is negative value, don't ccept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Household Targeting, For NCS, Score is negative value,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Set Test Variable                   ${parent_householdSegments}   {"group": [{"id": 3144, "score": -1, "exclude": false}]}

    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_2016
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_targeting_hh_segment=${parent_householdSegments}
    ...    response_code=200
    ...    success=true

    Set Test Variable                   ${parent_householdSegments}   {"group": [{"id": 956, "score":-1, "exclude": false}]}

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_2016
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_targeting_hh_segment=${parent_householdSegments}
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}         /reason_code            "400-999"
    Json Value Should Equal     ${body}         /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}         /errors/0/field            "956 [score]"
    Json Value Should Equal     ${body}         /errors/0/reason_desc      "Score must be positive integer"
    [Tags]


PAC1.6.5_TC_20.17_Update_parent_adgroup (Household Segments: For NCS, Score is null value, don't Accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Household Targeting, For NCS, Score is null value,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Set Test Variable                   ${parent_householdSegments}   {"group": [{"id": 3144, "score": -1, "exclude": false}]}

    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_2017
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_targeting_hh_segment=${parent_householdSegments}
    ...    response_code=200
    ...    success=true

    Set Test Variable                   ${parent_householdSegments}   {"group": [{"id": 956, "score":null, "exclude": false}]}

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_2017
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_targeting_hh_segment=${parent_householdSegments}
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}         /reason_code            "400-999"
    Json Value Should Equal     ${body}         /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}         /errors/0/field            "956 [score]"
    Json Value Should Equal     ${body}         /errors/0/reason_desc      "Invalid Household Targeting Score"
    [Tags]


PAC1.6.5_TC_20.18_Update_parent_adgroup (Household Segments: For NCS, Score missing, don't Accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Household Targeting, For NCS, Score missing,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Set Test Variable                   ${parent_householdSegments}   {"group": [{"id": 3144, "score": -1, "exclude": false}]}

    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_2018
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_targeting_hh_segment=${parent_householdSegments}
    ...    response_code=200
    ...    success=true

    Set Test Variable                   ${parent_householdSegments}   {"group": [{"id": 956, "exclude": false}]}

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_2018
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_targeting_hh_segment=${parent_householdSegments}
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal     ${body}         /reason_code            "400-999"
    Json Value Should Equal     ${body}         /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}         /errors/0/field            "956 [score]"
    Json Value Should Equal     ${body}         /errors/0/reason_desc      "Invalid Household Targeting Score"
    [Tags]

#--------------------------------------------------------------------------------------------------------------------------------------------
##Device ID Segment
PAC1.6.5_TC_21.1_Update_parent_adgroup (Device ID Segment: exclude=true, Accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Device ID Segment, when value of exclude is true,
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    #Set Test Variable                   ${parent_DeviceIDSegments}   {"group": [{"id": 9, "score": 900, "exclude": true}]}
    Set Test Variable                   ${parent_DeviceIDSegments}   {"group": [{"id": 9, "exclude": true}]}

    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_02101
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_02101
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_targeting_device_segment=${parent_DeviceIDSegments}
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_21.2_Update_parent_adgroup (Device ID Segment: exclude=false, Accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Device ID Segment, when value of exclude is false,
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    #Set Test Variable                   ${parent_DeviceIDSegments}   {"group": [{"id": 9, "score": -1, "exclude": false}]}
    Set Test Variable                   ${parent_DeviceIDSegments}   {"group": [{"id": 9, "exclude": false}]}

    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_02102
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_02102
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_targeting_device_segment=${parent_DeviceIDSegments}
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_21.3_Update_parent_adgroup (Device ID Segment: exclude=missing, It internally converts missing value with exclude=false, accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Device ID Segment, when value of exclude is missing,
    ...                 Expected:       API should internally convert missing exclude to exclude=false and
    ...                                 allow to update a Parent adgroup successfully with response code 200.
    Set Test Variable                   ${parent_DeviceIDSegments}   {"group": [{"id": 9}]}

    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_02103
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_02103
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_targeting_device_segment=${parent_DeviceIDSegments}
    ...    updated_response_code=200
    ...    updated_success=true


PAC1.6.5_TC_21.4_Update_parent_adgroup (Device ID Segment: A + B, accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Device ID Segment, when A or B,
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Set Test Variable                   ${parent_DeviceIDSegments}   {"group": [{"id": 9},{"id": 5}]}

    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_02104
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_02104
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_targeting_device_segment=${parent_DeviceIDSegments}
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_21.5_Update_parent_adgroup (Device ID Segment: A or B, accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Device ID Segment, when A or B,
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_02105
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Set Test Variable                   ${parent_DeviceIDSegments}   {"group": [{"id": 9}], "group": [{"id": 5}]}

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_02105
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_targeting_device_segment=${parent_DeviceIDSegments}
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_21.6_Update_parent_adgroup (Device ID Segment: Missig ID, error)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Device ID Segment, when value of ID is missing,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_02106
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Set Test Variable                   ${parent_DeviceIDSegments}   {"group": [{}]}

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_02106
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_targeting_device_segment=${parent_DeviceIDSegments}
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal   ${body}   /reason_code                "400-999"
    Json Value Should Equal   ${body}   /reason_desc                "Validation Failure"
    Json Value Should Equal   ${body}   /errors/0/reason_code       "700-214"
    Json Value Should Equal   ${body}   /errors/0/reason_desc       "Invalid Device Targeting."
    [Tags]


PAC1.6.5_TC_21.7_Update_parent_adgroup (Device ID Segment: blank, accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Device ID Segment, when blank,
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_02107
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_02107
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_targeting_device_segment=${Empty}
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]



PAC1.6.5_TC_21.8_Update_parent_adgroup (Device ID Segment: missing, accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Device ID Segment, when missing,
    ...                 Expected:       API should internally pass null value and allow to update a Parent adgroup
    ...    successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_02108
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_02108
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_targeting_device_segment=MISSING
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]       #Known_bug       CM-421


PAC1.6.5_TC_21.9_Update_parent_adgroup (Device ID Segment: id=null, do not accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Device ID Segment, when id is null,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_02109
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Set Test Variable   ${device_Segment}   {"group":[{"id":null}]}

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_02109
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_targeting_device_segment=${device_Segment}
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal   ${body}   /reason_code                "400-999"
    Json Value Should Equal   ${body}   /reason_desc                "Validation Failure"
    Json Value Should Equal   ${body}   /errors/0/reason_code       "700-214"
    Json Value Should Equal   ${body}   /errors/0/reason_desc       "Invalid Device Targeting."
    [Tags]  #Known_bug   CM-421


# PAC1.6.5_TC_21.10_Update_parent_adgroup (Device ID Segment: For NCS, score has positive value, Accept)
#     [Documentation]     Input:          Use API to Update Parent Adgroup for Device ID Segment, For NCS, score has positive value,
#     ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
#     Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_02110
#     ...    parent_campaign_id=${Campaign_Id}
#     ...    response_code=200
#     ...    success=true
#     Set Test Variable                   ${parent_DeviceIDSegments}   {"group": [{"id": 978, "score": 1, "exclude": true}]}
#     Update Parent Adgroup Via API       response_parent_name=PAC_regression_parent_165_02110
#     ...    response_parent_targeting_device_segment=${parent_DeviceIDSegments}
#     ...    updated_response_code=200
#     ...    updated_success=true
#     [Tags]


# PAC1.6.5_TC_21.11_Update_parent_adgroup (Device ID Segment: For NCS, score has negative value, don't Accept)
#     [Documentation]     Input:          Use API to Update Parent Adgroup for Device ID Segment, For NCS, score has negative value,
#     ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
#     Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_02111
#     ...    parent_campaign_id=${Campaign_Id}
#     ...    response_code=200
#     ...    success=true
#     Set Test Variable                   ${parent_DeviceIDSegments}   {"group": [{"id": 978, "score": -1, "exclude": true}]}
#     Update Parent Adgroup Via API       response_parent_name=PAC_regression_parent_165_02111
#     ...    response_parent_targeting_device_segment=${parent_DeviceIDSegments}
#     ...    updated_response_code=400
#     ...    updated_success=false
#     Json Value Should Equal     ${body}         /reason_code            "400-999"
#     Json Value Should Equal     ${body}         /reason_desc            "Validation Failure"
#     Json Value Should Equal     ${body}         /errors/0/field            "978 [score]"
#     Json Value Should Equal     ${body}         /errors/0/reason_desc      "Score must be positive integer"
#     [Tags]



# PAC1.6.5_TC_21.12_Update_parent_adgroup (Device ID Segment: For NCS, score has null value, don't Accept)
#     [Documentation]     Input:          Use API to Update Parent Adgroup for Device ID Segment, For NCS, score has null value,
#     ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
#     Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_02112
#     ...    parent_campaign_id=${Campaign_Id}
#     ...    response_code=200
#     ...    success=true
#     Set Test Variable                   ${parent_DeviceIDSegments}   {"group": [{"id": 978, "score": null, "exclude": true}]}
#     Update Parent Adgroup Via API       response_parent_name=PAC_regression_parent_165_02112
#     ...    response_parent_targeting_device_segment=${parent_DeviceIDSegments}
#     ...    updated_response_code=400
#     ...    updated_success=false
#     Json Value Should Equal     ${body}         /reason_code            "400-999"
#     Json Value Should Equal     ${body}         /reason_desc            "Validation Failure"
#     Json Value Should Equal     ${body}         /errors/0/field            "978 [score]"
#     Json Value Should Equal     ${body}         /errors/0/reason_desc      "Score must be positive integer"
#     [Tags]


# PAC1.6.5_TC_21.13_Update_parent_adgroup (Device ID Segment: For NCS, score missing, don't Accept)
#     [Documentation]     Input:          Use API to Update Parent Adgroup for Device ID Segment, For NCS, score missing,
#     ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
#     Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_02113
#     ...    parent_campaign_id=${Campaign_Id}
#     ...    response_code=200
#     ...    success=true
#     Set Test Variable                   ${parent_DeviceIDSegments}   {"group": [{"id": 978, "exclude": true}]}
#     Update Parent Adgroup Via API       response_parent_name=PAC_regression_parent_165_02113
#     ...    response_parent_targeting_device_segment=${parent_DeviceIDSegments}
#     ...    updated_response_code=400
#     ...    updated_success=false
#     Json Value Should Equal     ${body}         /reason_code            "400-999"
#     Json Value Should Equal     ${body}         /reason_desc            "Validation Failure"
#     Json Value Should Equal     ${body}         /errors/0/field            "978 [score]"
#     Json Value Should Equal     ${body}         /errors/0/reason_desc      "Score must be positive integer"
#     [Tags]

#--------------------------------------------------------------------------------------------------------------------------------------------
#Geofence Segment
PAC1.6.5_TC_22.1_Update_parent_adgroup (Geofence Segment: Pass value as 14, accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Geofence Segment, when passed value 514,
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0221
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0221
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_targeting_geofence_segment=14
    ...    response_parent_targeting_geofence_segment_exclude=true
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_22.2_Update_parent_adgroup (Geofence Segment: Pass any invalid value like 553454314, don't accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Geofence Segment, when passed value 553454314,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0222
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0222
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_targeting_geofence_segment=553454314
    ...    response_parent_targeting_geofence_segment_exclude=true
    ...    updated_response_code=400
    ...    updated_success=false

    Json Value Should Equal   ${body}   /reason_code                "400-999"
    Json Value Should Equal   ${body}   /reason_desc                "Validation Failure"
    Json Value Should Equal   ${body}   /errors/0/reason_code       "700-215"
    Json Value Should Equal   ${body}   /errors/0/reason_desc       "Invalid Geofence Targeting."
    [Tags]


PAC1.6.5_TC_22.3_Update_parent_adgroup (Geofence Segment: Pass any negative value, do not accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Geofence Segment, when passed value -14,
    ...                 Expected:       API should not allow to update a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0223
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0223
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_targeting_geofence_segment=-14
    ...    updated_response_code=400
    ...    updated_success=false
    Json Value Should Equal   ${body}   /reason_code                "400-999"
    Json Value Should Equal   ${body}   /reason_desc                "Validation Failure"
    Json Value Should Equal   ${body}   /errors/0/reason_code       "700-215"
    Json Value Should Equal   ${body}   /errors/0/reason_desc       "Invalid Geofence Targeting."
    [Tags]


PAC1.6.5_TC_22.4_Update_parent_adgroup (Geofence Segment: Missing , Accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Geofence Segment, when Missing,
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0224
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0224
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_targeting_geofence_segment="MISSING"
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_22.5_Update_parent_adgroup (Geofence Segment: blank , Accept 200)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Geofence Segment, when blank value passed,
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0225
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0225
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_targeting_geofence_segment=""     #${Empty}
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_22.6_Update_parent_adgroup (Geofence Segment: null , accept)
    [Documentation]     Input:          Use API to Update Parent Adgroup for Geofence Segment, when null value passed,
    ...                 Expected:       API should allow to update a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_0226
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_0226
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_targeting_geofence_segment=null
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]

#--------------------------------------------------------------------------------------------------------------------------------------------
#CM-349 remove status field
PAC1.6.5_TC_23.1_Update_parent_adgroup (Status Missing, accept)
    [Documentation]     Input:          Use API to update parent adgrousp for Status, when missing,
    ...                 Expected:       Internally value 1 should be passed to database which means active.
    ...                                  API should allow to create a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_update_165_0231
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_status=1
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_update_165_0231
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_status=MISSING
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]



PAC1.6.5_TC_23.2_Update_parent_adgroup (Status null, accept)
    [Documentation]     Input:          Use API to update parent adgrousp for Status, when null,
    ...                 Expected:       Internally value 1 should be passed to database which means active.
    ...                                  API should allow to create a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_update_165_0232
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_status=1
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_update_165_0232
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_status=null
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_23.3_Update_parent_adgroup (Status blank, accept)
    [Documentation]     Input:          Use API to update parent adgrousp for Status, when blank,
    ...                 Expected:       Internally value 1 should be passed to database which means active.
    ...                                  API should allow to create a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_update_165_0233
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_status=1
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_update_165_0233
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_status=""
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]


PAC1.6.5_TC_23.4_Update_parent_adgroup (Status 1, accept)
    [Documentation]     Input:          Use API to update parent adgrousp for Status, when 1,
    ...                 Expected:       API should allow to create a Parent adgroup successfully with response code 200.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_update_165_0234
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_status=1
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API       response_parent_name=PAC_regression_parent_update_165_0234
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_status=1
    ...    updated_response_code=200
    ...    updated_success=true
    [Tags]



PAC1.6.5_TC_23.5_Update_parent_adgroup (Status 3, Don't accept)
    [Documentation]     Input:          Use API to update parent adgrousp for Status, when 3,
    ...                 Expected:       API should not allow to create a Parent adgroup successfully with response code 400.
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_update_165_0235
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    parent_status=1
    ...    response_code=200
    ...    success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_update_165_0235
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_parent_status=3
    ...    updated_response_code=400
    ...    updated_success=false
    [Tags]

#--------------------------------------------------------------------------------------------------------------------------------------------
PAC1.6.5_TC_24.1_Update_parent_adgroup (Validate data against DB)
    [Documentation]     Use API to update a Parent adgroup, compare the data against database to make sure it's correct.
    Create Parent Adgroup via API           parent_name=PAC_regression_parent_165_24_New
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...                                     response_code=200
    ...                                     success=true

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_24_New
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}

    Get Parent adgroup details from DB      PAC_regression_parent_165_24_New
    Compare Parent Adgroup API vs DB
    [Tags]   #Known_bug      CM-441


PAC1.6.5_TC_24.2_Update_parent_adgroup (Validate data against another API 1.6.1)
    [Documentation]     Use API to update a Parent adgroup, compare the data against another API PAC 1.6.1 (get parent details)
    Create Parent Adgroup via API       parent_name=PAC_regression_parent_165_24_2
    ...    parent_start_date_time=${todaysDate}
    ...    parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    response_code=200
    ...    success=true

    Set Test Variable   ${parent_viewability}   {"requirementType":1,"measurableGoal":0.7,"viewableGoal":0.8,"viPercentage":0.9, "extrapolate":false}

    Update Parent Adgroup Via API
    ...    response_parent_name=PAC_regression_parent_165_24_2_New
    ...    response_parent_start_date_time=${todaysDate}
    ...    response_parent_viewability=${parent_viewability}
    ...    response_parent_campaign_id=${NonCatalina_Campaign_ID}
    ...    updated_response_code=200
    ...    updated_success=true

    Get parent adgroups detail And Compare Result
    [Tags]
#--------------------------------------------------------------------------------------------------------------------------------------------
