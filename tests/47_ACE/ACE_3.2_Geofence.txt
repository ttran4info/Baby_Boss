#---------------------------------------------------------------------------------------
# Script Change Log
# 2017-08-29 : vkatkar : Created new script
# 2017-08-31 : vkatkar : Added new tests for scenarios
#                        minRadius = something, Radius = null ,
#                        invalid and minRadius = null, Radius = null , invalid
#                        when dataSource = 9, segmentSources = "gfc", invalid
#---------------------------------------------------------------------------------------

*** Settings ***
Resource        ACE_api_imports.txt
Force Tags      ACE_API    BATCH21    ACE3.2    OffshoreQA
Suite Setup     Remove New Geofence via DB      name=ACE_Regression_Geofence
Suite Teardown  Remove New Geofence via DB      name=ACE_Regression_Geofence


# https://wiki.4info.com/display/Software/ACE+API+Documentation#ACEAPIDocumentation-3.2Geofence
# API Name : 3.2 Geofence
# Method : POST
# URL : /ace/api/v2/report/create
# DESC : Create Geofence
# rhino.ace_report


*** Variables ***


*** Keywords ***


*** Test Cases ***
# Base on Wiki, the data entry for min and max radius is in km (but the ui use miles, make sure that we are using miles)
# There are 2 geofence type: Simple and Ring
# When Geofence type is Simple, we only input Radius, minRadius is not use
# minRadius=""
# minRadius=null
# minRadius Mising
# When geofence type is Ring we input some value for minRadius
# minRadius = something, Radius = null , invalid
# minRadius = null, Radius = null , invalid
# Check database that geofence are created.

#-------------------------------------------------------------------------------------------
ACE.3.2_TC_01.1_Create Geofence (Valid URL and data, Accept)
    [Documentation]     Input : Run API to Create Geofence with valid URL,
    ...                 Expected : API should get processed successfully with response code 200.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}         ACE_Regression_Geofence_${ret}
    Log     ${name}
    Set Test Variable       ${email}                ${QA_DEFAULT_USER}
    Set Test Variable       ${segmentEntryList}     50:182
    Set Test Variable       ${dataSource}     9
    Set Test Variable       ${groupId}     1
    Set Test Variable       ${segmentSources}     gf
    Set Test Variable       ${minRadius}     1.0
    Set Test Variable       ${radius}     10.0
    Set Test Variable       ${reportName}     ${name}
    Set Test Variable       ${poiDataSource}     2
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName="${reportName}"
    ...                 email=${email}
    ...                 segmentEntryList=${segmentEntryList}
    ...                 dataSource=${dataSource}
    ...                 groupId=${groupId}
    ...                 segmentSources=${segmentSources}
    ...                 minRadius=${minRadius}
    ...                 radius=${radius}
    ...                 reportName=${reportName}
    ...                 poiDataSource=${poiDataSource}
    ...                 response_code=200
    ...                 success=true
    Compare response data with API Get Ace Report detail
    ...                 ${email}
    ...                 ${segmentEntryList}
    ...                 ${dataSource}
    ...                 ${groupId}
    ...                 ${segmentSources}
    ...                 ${minRadius}
    ...                 ${radius}
    ...                 ${reportName}
    ...                 ${poiDataSource}
    [Tags]        #   Known_bug       CM-1123         #CM-1145


ACE.3.2_TC_01.2_Create Geofence (invalid url, don't accept)
    [Documentation]     Input : Run API to Create Geofence with invalid URL,
    ...                 Expected : API should get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report123/create
    ...                 reportName=${name}
    ...                 response_code=400
    ...                 success=false
    [Tags]   #   Known_bug   CM-1002


ACE.3.2_TC_01.3_Create Geofence (when min radius is more than max radius, not Accept)
    [Documentation]     Input : Run API to Create Geofence when min radius is more than max radius,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 minRadius=12
    ...                 radius=10
    ...                 response_code=400
    ...                 success=false
    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "min radius"
    Json Value Should Equal     ${body}     /errors/0/reason_code   "700-017"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "Please enter min radius less than max radius"
    [Tags]    #  Known_bug       CM-1126


ACE.3.2_TC_01.4_Create Geofence (Ring Geofence : when minRadius = something, Radius = null, invalid)
    [Documentation]     Input : Run API to Create Ring Geofence when min radius has any valid value and radius is null,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 minRadius=5
    ...                 radius=null
    ...                 response_code=400
    ...                 success=false
    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "radius"
    Json Value Should Equal     ${body}     /errors/0/reason_code   "700-023"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "Please enter max${space} radius between .03 and 15 miles."
    [Tags]


ACE.3.2_TC_01.5_Create Geofence (Ring Geofence : when minRadius = null, Radius = null, invalid)
    [Documentation]     Input : Run API to Create Ring Geofence when min radius and radius are null,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 minRadius=null
    ...                 radius=null
    ...                 response_code=400
    ...                 success=false
    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "radius"
    Json Value Should Equal     ${body}     /errors/0/reason_code   "700-010"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "Required field Radius is missing"
    [Tags]


ACE.3.2_TC_01.6_Create Geofence (when dataSource = 9, segmentSources = "gfc", invalid)
    [Documentation]     Input : Run API to Create Ring Geofence when dataSource = 9, segmentSources = "gfc",
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 dataSource=9
    ...                 segmentSources=gfc
    ...                 response_code=400
    ...                 success=false
    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "segmentSources"
    Json Value Should Equal     ${body}     /errors/0/reason_code   "700-020"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "Invalid SourceSegment "
    [Tags]      Known_bug    CM-1603    Exclude    # NonUI

#-------------------------------------------------------------------------------------------
ACE.3.2_TC_02.1_Create Geofence (Existing Report Name, don't accept)
    [Documentation]     Input : Run API to Create Geofence for Existing Report Name,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}

    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 minRadius=0.3
    ...                 radius=0.8
    ...                 response_code=200
    ...                 success=true

    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 response_code=400
    ...                 success=false

    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "report name"
    Json Value Should Equal     ${body}     /errors/0/reason_code   "700-007"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "Report name already exits"
    [Tags]   #   Known_bug       CM-1123


ACE.3.2_TC_02.2_Create Geofence (Report Name : Missing, don't accept)
    [Documentation]     Input : Run API to Create Geofence for missing report name,
    ...                 Expected : API should not get processed successfully with response code 400.
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=MISSING
    ...                 response_code=400
    ...                 success=false

    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "report name"
    Json Value Should Equal     ${body}     /errors/0/reason_code   "700-011"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "Required field reportname ${Space}is missing"
    [Tags]


ACE.3.2_TC_02.3_Create Geofence (Report Name : special characters, don't accept)
    [Documentation]     Input : Run API to Create Geofence for report name contains special characters,
    ...                 Expected : API should not get processed successfully with response code 400.
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=Test12@#$%34
    ...                 response_code=400
    ...                 success=false

    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "report name"
    Json Value Should Equal     ${body}     /errors/0/reason_code   "700-013"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "Only letters, numbers, underscores (_), hyphens (-), period(.) and single spaces are allowed."
    [Tags]    #  Known_bug       CM-1124


ACE.3.2_TC_02.4_Create Geofence (Report Name : single space, accept)
    [Documentation]     Input : Run API to Create Geofence for report name contains single space,
    ...                 Expected : API should get processed successfully with response code 200.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence ${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 minRadius=0.3
    ...                 radius=0.8
    ...                 response_code=200
    ...                 success=true
    [Tags]    #  Known_bug       CM-1123


ACE.3.2_TC_02.5_Create Geofence (Report Name : underscore, accept)
    [Documentation]     Input : Run API to Create Geofence for report name contains underscore,
    ...                 Expected : API should get processed successfully with response code 200.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 minRadius=0.3
    ...                 radius=0.8
    ...                 response_code=200
    ...                 success=true
    [Tags]


ACE.3.2_TC_02.6_Create Geofence (Report Name : numbers, accept)
    [Documentation]     Input : Run API to Create Geofence for report name contains numbers,
    ...                 Expected : API should get processed successfully with response code 200.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_123_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 minRadius=0.3
    ...                 radius=0.8
    ...                 response_code=200
    ...                 success=true
    [Tags]



ACE.3.2_TC_02.7_Create Geofence (Report Name : double spaces, don't accept)
    [Documentation]     Input : Run API to Create Geofence for report name contains double spaces,
    ...                 Expected : API should not get processed successfully with response code 400.
    Set Test Variable       ${name}       Test${space} 123
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 response_code=400
    ...                 success=false

    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "report name"
    Json Value Should Equal     ${body}     /errors/0/reason_code   "700-013"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "Only letters, numbers, underscores (_), hyphens (-), period(.) and single spaces are allowed."
    [Tags]


ACE.3.2_TC_02.8_Create Geofence (Report Name : blank, don't accept)
    [Documentation]     Input : Run API to Create Geofence for blank report name,
    ...                 Expected : API should not get processed successfully with response code 400.
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${EMPTY}
    ...                 response_code=400
    ...                 success=false

    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "report name"
    Json Value Should Equal     ${body}     /errors/0/reason_code   "700-011"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "Required field reportname ${Space}is missing"
    [Tags]


ACE.3.2_TC_02.9_Create Geofence (Report Name : null, don't accept)
    [Documentation]     Input : Run API to Create Geofence for null report name,
    ...                 Expected : API should not get processed successfully with response code 400.
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=null
    ...                 response_code=400
    ...                 success=false

    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "report name"
    Json Value Should Equal     ${body}     /errors/0/reason_code   "700-011"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "Required field reportname ${Space}is missing"
    [Tags]
#-------------------------------------------------------------------------------------------

ACE.3.2_TC_03.1_Create Geofence (email : Missing, don't accept)
    [Documentation]     Input : Run API to Create Geofence for missing email,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_123_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 email=MISSING
    ...                 response_code=400
    ...                 success=false

    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "email"
    Json Value Should Equal     ${body}     /errors/0/reason_code   "700-006"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "Request field email is missing"
    [Tags]    #  Known_bug       CM-1124


ACE.3.2_TC_03.2_Create Geofence (email : Invalid, don't accept)
    [Documentation]     Input : Run API to Create Geofence for email contains special characters,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_123_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 email=Test12#$%34
    ...                 response_code=400
    ...                 success=false

    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "email"
    Json Value Should Equal     ${body}     /errors/0/reason_code   "700-005"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "Invalid email format"
    [Tags]    #  Known_bug       CM-1125


ACE.3.2_TC_03.3_Create Geofence (email : blank, don't accept)
    [Documentation]     Input : Run API to Create Geofence for blank email,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_123_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 email=${EMPTY}
    ...                 response_code=400
    ...                 success=false

    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "email"
    Json Value Should Equal     ${body}     /errors/0/reason_code   "700-006"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "Request field email is missing"
    [Tags]


ACE.3.2_TC_03.4_Create Geofence (email : null, don't accept)
    [Documentation]     Input : Run API to Create Geofence for null email,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_123_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 email=null
    ...                 response_code=400
    ...                 success=false

    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "email"
    Json Value Should Equal     ${body}     /errors/0/reason_code   "700-005"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "Invalid email format"
    [Tags]    #  Known_bug       CM-1124

#-------------------------------------------------------------------------------------------
ACE.3.2_TC_04.1_Create Geofence (segmentEntryList : Missing, don't accept)
    [Documentation]     Input : Run API to Create Geofence for missing segmentEntryList,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_123_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 segmentEntryList=MISSING
    ...                 response_code=400
    ...                 success=false

    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "segmentEntryList"
    Json Value Should Equal     ${body}     /errors/0/reason_code   "700-018"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "Required field Segment Entry List is missing"
    [Tags]


ACE.3.2_TC_04.2_Create Geofence (segmentEntryList : Invalid, don't accept)
    [Documentation]     Input : Run API to Create Geofence for segmentEntryList invalid,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_123_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 segmentEntryList=Test12@#$%34
    ...                 response_code=400
    ...                 success=false
    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "segmentEntryList"
    Json Value Should Equal     ${body}     /errors/0/reason_code   "700-019"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "Invalid Segment Entry List"
    [Tags]


ACE.3.2_TC_04.3_Create Geofence (segmentEntryList : blank, don't accept)
    [Documentation]     Input : Run API to Create Geofence for blank segmentEntryList,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_123_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 segmentEntryList=${EMPTY}
    ...                 response_code=400
    ...                 success=false

    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "segmentEntryList"
    Json Value Should Equal     ${body}     /errors/0/reason_code   "700-018"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "Required field Segment Entry List is missing"
    [Tags]


ACE.3.2_TC_04.4_Create Geofence (segmentEntryList : null, don't accept)
    [Documentation]     Input : Run API to Create Geofence for null segmentEntryList,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_123_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 segmentEntryList=null
    ...                 response_code=400
    ...                 success=false

    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "segmentEntryList"
    Json Value Should Equal     ${body}     /errors/0/reason_code   "700-019"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "Invalid Segment Entry List"
    [Tags]


ACE.3.2_TC_04.5_Create Geofence (segmentEntryList : When all POIs in the category are chosen, don't accept)
    [Documentation]     Input : Run API to Create Geofence for target_poi_name is -1 at segmentEntryList,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 segmentEntryList=50:-1
    ...                 minRadius=0.3
    ...                 radius=0.8
    ...                 response_code=200
    ...                 success=true


ACE.3.2_TC_04.6_Create Geofence (segmentEntryList : Comma separated list of POIs (Points Of Interest) around which the Geofence is to be built., don't accept)
    [Documentation]     Input : Run API to Create Geofence for Comma separated list of POIs (Points Of Interest) around which the Geofence is to be built.,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 segmentEntryList=50:182,50:1995
    ...                 minRadius=0.3
    ...                 radius=0.8
    ...                 response_code=200
    ...                 success=true


#-------------------------------------------------------------------------------------------
ACE.3.2_TC_05.1_Create Geofence (When Geofence type is Simple, minRadius : Missing, accept)
    [Documentation]     Input : Run API to Create Geofence for missing minRadius is considered as simple geofence,
    ...                 Expected : This scenario will be treated as simple geofence,
    ...                 we do not pass min radius for simple geofence.
    ...                 API should get processed successfully with response code 200.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 minRadius=MISSING
    ...                 radius=0.8
    ...                 response_code=200
    ...                 success=true
    [Tags]


ACE.3.2_TC_05.2_Create Geofence (minRadius : Invalid, don't accept)
    [Documentation]     Input : Run API to Create Geofence for min radius invalid,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 minRadius="12@#$%34"
    ...                 response_code=400
    ...                 success=false
    Json Value Should Equal     ${body}     /errors/0/reason_code      "700-015"
    Json Value Should Equal     ${body}     /errors/0/field            "min radius"
    Json Value Should Equal     ${body}     /errors/0/reason_desc      "Please enter min radius between .03 and 15 miles."
    [Tags]     #  Known_bug       CM-1124


ACE.3.2_TC_05.3_Create Geofence (minRadius : blank, accept)
    [Documentation]     Input : Run API to Create Geofence for blank min radius is considered as simple geofence,
    ...                 Expected : API should not get processed successfully with response code 200.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 minRadius="${EMPTY}"
    ...                 radius=0.8
    ...                 response_code=200
    ...                 success=true
    [Tags]    #  Known_bug       CM-1124


ACE.3.2_TC_05.4_Create Geofence (minRadius : null, accept)
    [Documentation]     Input : Run API to Create Geofence for null min radius is considered as simple geofence,
    ...                 Expected : API should not get processed successfully with response code 200.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 minRadius=null
    ...                 radius=0.8
    ...                 response_code=200
    ...                 success=true
    [Tags]    #  Known_bug       CM-1124


ACE.3.2_TC_05.5_Create Geofence (minRadius : less than 0.03, don't accept)
    [Documentation]     Input : Run API to Create Geofence for min radius less than 0.03,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 minRadius=0.01
    ...                 response_code=400
    ...                 success=false

    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "min radius"
    Json Value Should Equal     ${body}     /errors/0/reason_code   "700-015"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "Please enter min radius between .03 and 15 miles."
    [Tags]



ACE.3.2_TC_05.6_Create Geofence (minRadius : greater than 15, don't accept)
    [Documentation]     Input : Run API to Create Geofence for min radius greater than 15,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 minRadius=25
    ...                 response_code=400
    ...                 success=false

    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "min radius"
    Json Value Should Equal     ${body}     /errors/0/reason_code   "700-015"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "Please enter min radius between .03 and 15 miles."
    [Tags]


ACE.3.2_TC_05.7_Create Geofence (minRadius : any negative value, don't accept)
    [Documentation]     Input : Run API to Create Geofence for min radius contains any negative value,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 minRadius=-2
    ...                 response_code=400
    ...                 success=false

    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "min radius"
    Json Value Should Equal     ${body}     /errors/0/reason_code   "700-015"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "Please enter min radius between .03 and 15 miles."
    [Tags]

#-------------------------------------------------------------------------------------------

ACE.3.2_TC_06.1_Create Geofence (radius : Missing, don't accept)
    [Documentation]     Input : Run API to Create Geofence for missing radius. As radius is a mandatory key,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 radius=MISSING
    ...                 response_code=400
    ...                 success=false
    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "radius"
    Json Value Should Equal     ${body}     /errors/0/reason_code   "700-023"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "Please enter max ${Space}radius between .03 and 15 miles."
    [Tags]


ACE.3.2_TC_06.2_Create Geofence (radius : Invalid, don't accept)
    [Documentation]     Input : Run API to Create Geofence for radius invalid,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 radius="12@#$%34"
    ...                 response_code=400
    ...                 success=false
    Json Value Should Equal     ${body}     /errors/0/reason_code    "700-023"
    Json Value Should Equal     ${body}     /errors/0/field          "radius"
    Json Value Should Equal     ${body}     /errors/0/reason_desc    "Please enter max ${Space}radius between .03 and 15 miles."
    [Tags]    #   Known_bug       CM-1124


ACE.3.2_TC_06.3_Create Geofence (minRadius : blank, accept)
    [Documentation]     Input : Run API to Create Geofence for blank radius,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 minRadius="${EMPTY}"
    ...                 radius=0.8
    ...                 response_code=200
    ...                 success=true
    [Tags]    #  Known_bug       CM-1124


ACE.3.2_TC_06.4_Create Geofence (radius : null, don't accept)
    [Documentation]     Input : Run API to Create Geofence for null radius,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 radius=null
    ...                 response_code=400
    ...                 success=false

    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "radius"
    Json Value Should Equal     ${body}     /errors/0/reason_code   "700-023"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "Please enter max ${Space}radius between .03 and 15 miles."
    [Tags]    #  Known_bug       CM-1124


ACE.3.2_TC_06.5_Create Geofence (radius : less than 0.03, don't accept)
    [Documentation]     Input : Run API to Create Geofence for radius less than 0.03,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 radius=0.01
    ...                 response_code=400
    ...                 success=false

    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "radius"
    Json Value Should Equal     ${body}     /errors/0/reason_code   "700-023"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "Please enter max ${Space}radius between .03 and 15 miles."
    [Tags]



ACE.3.2_TC_06.6_Create Geofence (radius : greater than 15, don't accept)
    [Documentation]     Input : Run API to Create Geofence for radius greater than 15,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 radius=25
    ...                 response_code=400
    ...                 success=false

    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "radius"
    Json Value Should Equal     ${body}     /errors/0/reason_code   "700-023"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "Please enter max ${Space}radius between .03 and 15 miles."
    [Tags]


ACE.3.2_TC_06.7_Create Geofence (radius : any negative value, don't accept)
    [Documentation]     Input : Run API to Create Geofence for radius contains any negative value,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 radius=-2
    ...                 response_code=400
    ...                 success=false

    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "radius"
    Json Value Should Equal     ${body}     /errors/0/reason_code   "700-023"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "Please enter max ${Space}radius between .03 and 15 miles."
    [Tags]

#-------------------------------------------------------------------------------------------

ACE.3.2_TC_07.1_Create Geofence (dataSource : Missing, don't accept)
    [Documentation]     Input : Run API to Create Geofence for missing dataSource. As dataSource is a mandatory key,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 dataSource=MISSING
    ...                 response_code=400
    ...                 success=false
    Json Value Should Equal     ${body}     /reason_code            "700-012"
    Json Value Should Equal     ${body}     /reason_desc            "Required field DataSource is missing"
    [Tags]


ACE.3.2_TC_07.2_Create Geofence (dataSource : Invalid, don't accept)
    [Documentation]     Input : Run API to Create Geofence for dataSource invalid,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 dataSource="Test12@#$%34"
    ...                 response_code=400
    ...                 success=false

    Json Value Should Equal     ${body}     /reason_code            "700-016"
    Json Value Should Equal     ${body}     /reason_desc            "Invalid Data Source"
    [Tags]    #   Known_bug       CM-1124


ACE.3.2_TC_07.3_Create Geofence (dataSource : blank, don't accept)
    [Documentation]     Input : Run API to Create Geofence for blank dataSource,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 dataSource="${EMPTY}"
    ...                 response_code=400
    ...                 success=false

    Json Value Should Equal     ${body}     /reason_code            "700-012"
    Json Value Should Equal     ${body}     /reason_desc            "Required field DataSource is missing"
    [Tags]   #   Known_bug       CM-1124


ACE.3.2_TC_07.4_Create Geofence (dataSource : null, don't accept)
    [Documentation]     Input : Run API to Create Geofence for null dataSource,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 dataSource=null
    ...                 response_code=400
    ...                 success=false

    Json Value Should Equal     ${body}     /reason_code            "700-012"
    Json Value Should Equal     ${body}     /reason_desc            "Required field DataSource is missing"
    [Tags]   #   Known_bug       CM-1124


ACE.3.2_TC_07.5_Create Geofence (dataSource : 9999, don't accept)
    [Documentation]     Input : Run API to Create Geofence for dataSource not exists i.e. 9999,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 dataSource=9999
    ...                 response_code=400
    ...                 success=false

    Json Value Should Equal     ${body}     /reason_code            "700-016"
    Json Value Should Equal     ${body}     /reason_desc            "Invalid Data Source"
    [Tags]



ACE.3.2_TC_07.6_Create Geofence (dataSource : -25, don't accept)
    [Documentation]     Input : Run API to Create Geofence for dataSource -25,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 dataSource=-25
    ...                 response_code=400
    ...                 success=false

    Json Value Should Equal     ${body}     /reason_code            "700-016"
    Json Value Should Equal     ${body}     /reason_desc            "Invalid Data Source"
    [Tags]

#-------------------------------------------------------------------------------------------
ACE.3.2_TC_08.1_Create Geofence (groupId : Missing, don't accept)
    [Documentation]     Input : Run API to Create Geofence for missing groupId. As groupId is a mandatory key,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 groupId=MISSING
    ...                 response_code=400
    ...                 success=false
    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "Group Id"
    Json Value Should Equal     ${body}     /errors/0/reason_code   "700-002"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "Required field groupID missing"
    [Tags]


ACE.3.2_TC_08.2_Create Geofence (groupId : Invalid, don't accept)
    [Documentation]     Input : Run API to Create Geofence for groupId invalid,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 groupId=Test12@#$%34
    ...                 response_code=400
    ...                 success=false
    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "Group Id"
    Json Value Should Equal     ${body}     /errors/0/reason_code   "600-001"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "Invalid Group id."
    [Tags]     #  Known_bug       CM-1124


ACE.3.2_TC_08.3_Create Geofence (groupId : blank, don't accept)
    [Documentation]     Input : Run API to Create Geofence for blank groupId,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 groupId=${EMPTY}
    ...                 response_code=400
    ...                 success=false

    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "Group Id"
    Json Value Should Equal     ${body}     /errors/0/reason_code   "700-002"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "Required field groupID missing"
    [Tags]   #   Known_bug       CM-1124


ACE.3.2_TC_08.4_Create Geofence (groupId : null, don't accept)
    [Documentation]     Input : Run API to Create Geofence for null groupId,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 groupId=null
    ...                 response_code=400
    ...                 success=false
    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "Group Id"
    Json Value Should Equal     ${body}     /errors/0/reason_code   "600-001"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "Invalid Group id."
    [Tags]    #  Known_bug       CM-1124


ACE.3.2_TC_08.5_Create Geofence (groupId : 9999, don't accept)
    [Documentation]     Input : Run API to Create Geofence for groupId not exists i.e. 9999,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 groupId=9999
    ...                 response_code=400
    ...                 success=false
    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "Group Id"
    Json Value Should Equal     ${body}     /errors/0/reason_code   "600-001"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "Invalid Group id."
    [Tags]


ACE.3.2_TC_08.6_Create Geofence (groupId : -25, don't accept)
    [Documentation]     Input : Run API to Create Geofence for groupId -25,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 groupId=-25
    ...                 response_code=400
    ...                 success=false
    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "Group Id"
    Json Value Should Equal     ${body}     /errors/0/reason_code   "600-001"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "Invalid Group id."
    [Tags]

#-------------------------------------------------------------------------------------------
ACE.3.2_TC_09.1_Create Geofence (segmentSources : Missing, don't accept)
    [Documentation]     Input : Run API to Create Geofence for missing segmentSources. As segmentSources is a mandatory key,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 segmentSources=MISSING
    ...                 response_code=400
    ...                 success=false
    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "Segment Source"
    Json Value Should Equal     ${body}     /errors/0/reason_code   "700-023"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "Missing SourceSegment "
    [Tags]


ACE.3.2_TC_09.2_Create Geofence (segmentSources : Invalid, don't accept)
    [Documentation]     Input : Run API to Create Geofence for segmentSources invalid,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 segmentSources=Test12@#$%34
    ...                 response_code=400
    ...                 success=false
    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "Segment Source"
    Json Value Should Equal     ${body}     /errors/0/reason_code   "700-020"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "Invalid SourceSegment "
    [Tags]    #   Known_bug       CM-1124


ACE.3.2_TC_09.3_Create Geofence (segmentSources : blank, don't accept)
    [Documentation]     Input : Run API to Create Geofence for blank segmentSources,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 segmentSources=${EMPTY}
    ...                 response_code=400
    ...                 success=false
    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "Segment Source"
    Json Value Should Equal     ${body}     /errors/0/reason_code   "700-023"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "Missing SourceSegment "
    [Tags]   #   Known_bug       CM-1124


ACE.3.2_TC_09.4_Create Geofence (segmentSources : null, don't accept)
    [Documentation]     Input : Run API to Create Geofence for null segmentSources,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 segmentSources=null
    ...                 response_code=400
    ...                 success=false
    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "Segment Source"
    Json Value Should Equal     ${body}     /errors/0/reason_code   "700-020"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "Invalid SourceSegment "
    [Tags]    #  Known_bug       CM-1124

#-------------------------------------------------------------------------------------------
ACE.3.2_TC_10.1_Create Geofence (poiDataSource : Missing, don't accept)
    [Documentation]     Input : Run API to Create Geofence for missing poiDataSource. As poiDataSource is a mandatory key,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 poiDataSource=MISSING
    ...                 response_code=400
    ...                 success=false
    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "POI Data Source"
    Json Value Should Equal     ${body}     /errors/0/reason_code   "700-022"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "POI Target Data Source is missing"
    [Tags]    #  Known_bug       CM-1124


ACE.3.2_TC_10.2_Create Geofence (poiDataSource : Invalid, don't accept)
    [Documentation]     Input : Run API to Create Geofence for poiDataSource invalid,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 poiDataSource="Test12@#$%34"
    ...                 response_code=400
    ...                 success=false
    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "POI Data Source"
    Json Value Should Equal     ${body}     /errors/0/reason_code   "700-021"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "Invalid POI Target Data Source"
     [Tags]    #   Known_bug       CM-1124


ACE.3.2_TC_10.3_Create Geofence (poiDataSource : blank, don't accept)
    [Documentation]     Input : Run API to Create Geofence for blank poiDataSource,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 poiDataSource="${EMPTY}"
    ...                 response_code=400
    ...                 success=false
    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "POI Data Source"
    Json Value Should Equal     ${body}     /errors/0/reason_code   "700-022"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "POI Target Data Source is missing"
    [Tags]    #  Known_bug       CM-1124


ACE.3.2_TC_10.4_Create Geofence (poiDataSource : null, don't accept)
    [Documentation]     Input : Run API to Create Geofence for null poiDataSource,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 poiDataSource=null
    ...                 response_code=400
    ...                 success=false
    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "POI Data Source"
    Json Value Should Equal     ${body}     /errors/0/reason_code   "700-022"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "POI Target Data Source is missing"
    [Tags]     # Known_bug       CM-1124


ACE.3.2_TC_10.5_Create Geofence (poiDataSource : 9999, don't accept)
    [Documentation]     Input : Run API to Create Geofence for poiDataSource not exists i.e. 9999,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 poiDataSource=9999
    ...                 response_code=400
    ...                 success=false
    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "POI Data Source"
    Json Value Should Equal     ${body}     /errors/0/reason_code   "700-021"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "Invalid POI Target Data Source"
    [Tags]


ACE.3.2_TC_10.6_Create Geofence (poiDataSource : -25, don't accept)
    [Documentation]     Input : Run API to Create Geofence for poiDataSource -25,
    ...                 Expected : API should not get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 poiDataSource=-25
    ...                 response_code=400
    ...                 success=false
    Json Value Should Equal     ${body}     /reason_code            "400-999"
    Json Value Should Equal     ${body}     /reason_desc            "Validation Failure"
    Json Value Should Equal     ${body}     /errors/0/field         "POI Data Source"
    Json Value Should Equal     ${body}     /errors/0/reason_code   "700-021"
    Json Value Should Equal     ${body}     /errors/0/reason_desc   "Invalid POI Target Data Source"
    [Tags]


ACE.3.2_TC_10.7_Create Geofence (poiDataSource = 1 : Legacy Dataset, Accept)
    [Documentation]     Input : Run API to Create Geofence for Legacy Dataset poiDataSource,
    ...                 Expected : API should get processed successfully with response code 200.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 poiDataSource=1
    ...                 minRadius=0.3
    ...                 radius=0.8
    ...                 response_code=200
    ...                 success=true
    [Tags]


ACE.3.2_TC_10.8_Create Geofence (poiDataSource = 2 : Infogroup Dataset, Accept)
    [Documentation]     Input : Run API to Create Geofence for Infogroup Dataset poiDataSource,
    ...                 Expected : API should get processed successfully with response code 200.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 poiDataSource=2
    ...                 minRadius=0.3
    ...                 radius=0.8
    ...                 response_code=200
    ...                 success=true
    [Tags]


ACE.3.2_TC_10.9_Create Geofence (poiDataSource = 1 : Legacy Dataset, but input Info group segment (segmentEntryList) - Invalid segment)
    [Documentation]     Input : Run API to Create Geofence for Infogroup Dataset poiDataSource,
    ...                 Expected : API should get processed successfully with response code 200.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 segmentEntryList=abcd
    ...                 poiDataSource=1
    ...                 minRadius=0.3
    ...                 radius=0.8
    ...                 response_code=400
    ...                 success=false
    [Tags]


ACE.3.2_TC_10.10_Create Geofence (poiDataSource = 2 : Infogroup Dataset, but input Legacy segment (segmentEntryList) - Invalid segment)
    [Documentation]     Input : Run API to Create Geofence for Infogroup Dataset poiDataSource,
    ...                 Expected : API should get processed successfully with response code 400.
    ${ret} =        Generate Random String  3       QATESTABCDEFGHIJKLMNOP
    Set Test Variable       ${name}             ACE_Regression_Geofence_${ret}
    Log     ${name}
    Create Geofence     uri=/ace/api/v2/report/create
    ...                 reportName=${name}
    ...                 segmentEntryList=abcd
    ...                 poiDataSource=2
    ...                 response_code=400
    ...                 success=false
    [Tags]

#-------------------------------------------------------------------------------------------
